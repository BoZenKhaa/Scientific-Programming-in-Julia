<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Performance Forward vs. Reverse · Scientific Programming in Julia</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JuliaTeachingCTU.github.io/Scientific-Programming-in-Julia/lecture_09/lecture/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Scientific Programming in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Scientific Programming in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Scientific Programming in Julia</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><a class="tocitem" href="../../projects/">Projects</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">1: Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/motivation/">Motivation</a></li><li><a class="tocitem" href="../../lecture_01/basics/">Basics</a></li><li><a class="tocitem" href="../../lecture_01/demo/">Examples</a></li><li><a class="tocitem" href="../../lecture_01/outline/">Outline</a></li><li><a class="tocitem" href="../../lecture_01/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_01/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">2: The power of Type System &amp; multiple dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_02/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_02/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_02/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">3: Design patterns</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_03/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_03/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_03/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">4: Packages development, Unit Tests &amp; CI</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_04/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_04/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_04/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">5: Benchmarking, profiling, and performance gotchas</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_05/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_05/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_05/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">6: Language introspection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_06/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_06/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_06/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-10" type="checkbox"/><label class="tocitem" for="menuitem-10"><span class="docs-label">7: Macros</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_07/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_07/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_07/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-11" type="checkbox"/><label class="tocitem" for="menuitem-11"><span class="docs-label">8: Introduction to automatic differentiation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_08/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_08/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_08/hw/">Homework</a></li></ul></li><li><span class="tocitem">9: Manipulating intermediate representation</span></li><li><span class="tocitem">10: Different levels of parallel programming</span></li><li><span class="tocitem">11: Julia for GPU programming</span></li><li><span class="tocitem">12: Uncertainty propagation in ODE</span></li><li><span class="tocitem">13: Learning ODE from data</span></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Performance Forward vs. Reverse</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Performance Forward vs. Reverse</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTeachingCTU/Scientific-Programming-in-Julia/blob/master/docs/src/lecture_09/lecture.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Source-Code-Transformation"><a class="docs-heading-anchor" href="#Source-Code-Transformation">Source Code Transformation</a><a id="Source-Code-Transformation-1"></a><a class="docs-heading-anchor-permalink" href="#Source-Code-Transformation" title="Permalink"></a></h2><p>The most recent approach to Reverse Mode AD is <strong><em>Source-to-Source</em></strong> transformation adopted by packages like <strong><em>JAX</em></strong> and <strong><em>Zygote.jl</em></strong>. Transforming code promises to eliminate the problems of tracing-based AD. <code>Tracked</code> types are not needed anymore, which reduces memory usage, promising significant speedups. Additionally, the reverse pass becomes a <em>compiler problem</em>, which makes it possible to leverage highly optimized compilers like LLVM.</p><p>Source-to-source AD uses meta-programming to produce <code>rrule</code>s for any function that is a composition of available <code>rrule</code>s. The code for <code>foo</code></p><pre><code class="language-julia hljs">foo(x) = h(g(f(x)))

f(x) = x^2
g(x) = sin(x)
h(x) = 5x</code></pre><p>is transformed into</p><pre><code class="language-julia hljs">function rrule(::typeof(foo), x)
    a, Ja = rrule(f, x)
    b, Jb = rrule(g, a)
    y, Jy = rrule(h, b)

    function dfoo(Δy)
        Δb = Jy(Δy)
        Δa = Jb(Δb)
        Δx = Ja(Δa)
        return Δx
    end
    
    return y, dfoo
end</code></pre><p>For this simple example we can define the three <code>rrule</code>s by hand:</p><pre><code class="language-julia hljs">rrule(::typeof(f), x) = f(x), Δ -&gt; 2x*Δ
rrule(::typeof(g), x) = g(x), Δ -&gt; cos(x)*Δ
rrule(::typeof(h), x) = h(x), Δ -&gt; 5*Δ</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">rrule (generic function with 3 methods)</code></pre><p>Remember that this is a very artificial example. In real AD code you would overload functions like <code>+</code>, <code>*</code>, etc, such that you don&#39;t have to define a <code>rrule</code> for something like <code>5x</code>.</p><p>In order to transform our functions safely we will make use of <code>IRTools.jl</code> (<em>Intermediate Representation Tools</em>) which provide some convenience functions for inspecting and manipulating code snippets. The IR for <code>foo</code> looks like this:</p><pre><code class="language-julia hljs">using IRTools: @code_ir, evalir
ir = @code_ir foo(2.)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1: (%1, %2)
  %3 = Main.f(%2)
  %4 = Main.g(%3)
  %5 = Main.h(%4)
  return %5</code></pre><p>Variable names are replaced by <code>%N</code> and each function gets is own line. We can evalulate the IR (to actually run it) like this</p><pre><code class="language-julia hljs">evalir(ir, nothing, 2.)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-3.7840124765396412</code></pre><p>As a first step, lets transform the function calls to <code>rrule</code> calls.  For this, all we need to do is iterate through the IR line by line and replace each statement with <code>(Main.rrule)(Main.func, %N)</code>, where <code>Main</code> just stand for the gobal main module in which we just defined our functions. But remember that the <code>rrule</code> returns the value <code>v</code> <em>and</em> the pullback <code>J</code> to compute the gradient. Just replacing the statements would alter our forward pass. Instead we can insert each statement <em>before</em> the one we want to change. Then we can replace the the original statement with <code>v = rr[1]</code> to use only <code>v</code> and not <code>J</code> in the subsequent computation.</p><pre><code class="language-julia hljs">using IRTools
using IRTools: xcall, stmt

xgetindex(x, i...) = xcall(Base, :getindex, x, i...)

ir = @code_ir foo(2.)
pr = IRTools.Pipe(ir)

for (v,statement) in pr
    ex = statement.expr
    rr = xcall(rrule, ex.args...)
    # pr[v] = stmt(rr, line=ir[v].line)
    vJ = insert!(pr, v, stmt(rr, line = ir[v].line))
    pr[v] = xgetindex(vJ,1)
end
ir = IRTools.finish(pr)
#
#msg = &quot;&quot;&quot;
#ir = 1: (%1, %2)                          ## rrule(foo, x)
#       %3 = (Main.rrule)(Main.f, %2)      ##   ra = rrule(f,x)
#       %4 = Base.getindex(%3, 1)          ##   a  = ra[1]
#       %5 = (Main.rrule)(Main.g, %4)      ##   rb = rrule(g,a)
#       %6 = Base.getindex(%5, 1)          ##   b  = rb[1]
#       %7 = (Main.rrule)(Main.h, %6)      ##   ry = rrule(h,b)
#       %8 = Base.getindex(%7, 1)          ##   y  = ry[1]
#       return %8                          ##   return y
#&quot;&quot;&quot;
#println(msg)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1: (%1, %2)
  %3 = (Main.rrule)(Main.f, %2)
  %4 = Base.getindex(%3, 1)
  %5 = (Main.rrule)(Main.g, %4)
  %6 = Base.getindex(%5, 1)
  %7 = (Main.rrule)(Main.h, %6)
  %8 = Base.getindex(%7, 1)
  return %8</code></pre><p>Evaluation of this transformed IR should still give us the same value</p><pre><code class="language-julia hljs">evalir(ir, nothing, 2.)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-3.7840124765396412</code></pre><p>The only thing that is left to do now is collect the <code>Js</code> and return a tuple of our forward value and the <code>Js</code>.</p><pre><code class="language-julia hljs">using IRTools: insertafter!, substitute, xcall, stmt

xtuple(xs...) = xcall(Core, :tuple, xs...)

ir = @code_ir foo(2.)
pr = IRTools.Pipe(ir)
Js = IRTools.Variable[]

for (v,statement) in pr
    ex = statement.expr
    rr = xcall(rrule, ex.args...)  # ex.args = (f,x)
    vJ = insert!(pr, v, stmt(rr, line = ir[v].line))
    pr[v] = xgetindex(vJ,1)

    # collect Js
    J = insertafter!(pr, v, stmt(xgetindex(vJ,2), line=ir[v].line))
    push!(Js, substitute(pr, J))
end
ir = IRTools.finish(pr)
# add the collected `Js` to `ir`
Js  = push!(ir, xtuple(Js...))
# return a tuple of the last `v` and `Js`
ret = ir.blocks[end].branches[end].args[1]
IRTools.return!(ir, xtuple(ret, Js))
ir
#msg = &quot;&quot;&quot;
#ir = 1: (%1, %2)                          ## rrule(foo, x)
#       %3 = (Main.rrule)(Main.f, %2)      ##   ra = rrule(f,x)
#       %4 = Base.getindex(%3, 1)          ##   a  = ra[1]
#       %5 = Base.getindex(%3, 2)          ##   Ja = ra[2]
#       %6 = (Main.rrule)(Main.g, %4)      ##   rb = rrule(g,a)
#       %7 = Base.getindex(%6, 1)          ##   b  = rb[1]
#       %8 = Base.getindex(%6, 2)          ##   Jb = rb[2]
#       %9 = (Main.rrule)(Main.h, %7)      ##   ry = rrule(h,b)
#       %10 = Base.getindex(%9, 1)         ##   y  = ry[1]
#       %11 = Base.getindex(%9, 2)         ##   Jy = ry[2]
#       %12 = Core.tuple(%5, %8, %11)      ##   Js = (Ja,Jb,Jy)
#       %13 = Core.tuple(%10, %12)         ##   rr = (y, Js)
#       return %13                         ##   return rr
#&quot;&quot;&quot;
#println(msg)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1: (%1, %2)
  %3 = (Main.rrule)(Main.f, %2)
  %4 = Base.getindex(%3, 1)
  %5 = Base.getindex(%3, 2)
  %6 = (Main.rrule)(Main.g, %4)
  %7 = Base.getindex(%6, 1)
  %8 = Base.getindex(%6, 2)
  %9 = (Main.rrule)(Main.h, %7)
  %10 = Base.getindex(%9, 1)
  %11 = Base.getindex(%9, 2)
  %12 = Core.tuple(%5, %8, %11)
  %13 = Core.tuple(%10, %12)
  return %13</code></pre><p>The resulting IR can be evaluated to the forward pass value and the Jacobians:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; (y, Js) = evalir(ir, foo, 2.)</code><code class="nohighlight hljs ansi" style="display:block;">(-3.7840124765396412, (Main.var&quot;#1#2&quot;{Float64}(2.0), Main.var&quot;#3#4&quot;{Float64}(4.0), Main.var&quot;#5#6&quot;()))</code></pre><p>To compute the derivative given the tuple of <code>Js</code> we just need to compose them and set the initial gradient to one:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; reduce(|&gt;, Js, init=1)  # Ja(Jb(Jy(1)))</code><code class="nohighlight hljs ansi" style="display:block;">-13.072872417272238</code></pre><p>The code for transforming the IR as described above looks like this.</p><pre><code class="language-julia hljs">function transform(ir, x)
    pr = IRTools.Pipe(ir)
    Js = IRTools.Variable[]

    # loop over each line in the IR
    for (v,statement) in pr
        ex = statement.expr
        # insert the rrule
        rr = xcall(rrule, ex.args...)  # ex.args = (f,x)
        vJ = insert!(pr, v, stmt(rr, line = ir[v].line))
        # replace original line with f(x) from rrule
        pr[v] = xgetindex(vJ,1)

        # save jacobian in a variable
        J = insertafter!(pr, v, stmt(xgetindex(vJ,2), line=ir[v].line))
        # add it to a list of jacobians
        push!(Js, substitute(pr, J))
    end
    ir = IRTools.finish(pr)
    # add the collected `Js` to `ir`
    Js  = push!(ir, xtuple(Js...))
    # return a tuple of the foo(x) and `Js`
    ret = ir.blocks[end].branches[end].args[1]
    IRTools.return!(ir, xtuple(ret, Js))
    return ir
end

xgetindex(x, i...) = xcall(Base, :getindex, x, i...)
xtuple(xs...) = xcall(Core, :tuple, xs...)</code></pre><p>Now we can write a general <code>rrule</code> that can differentiate any function composed of our defined <code>rrule</code>s</p><pre><code class="language-julia hljs">function rrule(f, x)
    ir = @code_ir f(x)
    ir_derived = transform(ir,x)
    y, Js = evalir(ir_derived, nothing, x)
    df(Δ) = reduce(|&gt;, Js, init=Δ)
    return y, df
end


reverse(f,x) = rrule(f,x)[2](one(x))</code></pre><p>Finally, we just have to use <code>reverse</code> to compute the gradient</p><pre><code class="language-julia hljs">plot(-2:0.1:2, foo, label=&quot;f(x) = 5sin(x^2)&quot;, lw=3)
plot!(-2:0.1:2, x-&gt;10x*cos(x^2), label=&quot;Analytic f&#39;&quot;, ls=:dot, lw=3)
plot!(-2:0.1:2, x-&gt;reverse(foo,x), label=&quot;Dual Forward Mode f&#39;&quot;, lw=3, ls=:dash)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip360">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip360)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip361">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip360)" d="
M178.867 1486.45 L2352.76 1486.45 L2352.76 47.2441 L178.867 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip362">
    <rect x="178" y="47" width="2175" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  240.392,1486.45 240.392,47.2441 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  753.102,1486.45 753.102,47.2441 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1265.81,1486.45 1265.81,47.2441 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1778.52,1486.45 1778.52,47.2441 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2291.23,1486.45 2291.23,47.2441 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  178.867,1486.45 2352.76,1486.45 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  240.392,1486.45 240.392,1467.55 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  753.102,1486.45 753.102,1467.55 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1265.81,1486.45 1265.81,1467.55 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1778.52,1486.45 1778.52,1467.55 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2291.23,1486.45 2291.23,1467.55 
  "/>
<path clip-path="url(#clip360)" d="M210.334 1532.02 L240.01 1532.02 L240.01 1535.95 L210.334 1535.95 L210.334 1532.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M254.13 1544.91 L270.45 1544.91 L270.45 1548.85 L248.505 1548.85 L248.505 1544.91 Q251.167 1542.16 255.751 1537.53 Q260.357 1532.88 261.538 1531.53 Q263.783 1529.01 264.663 1527.27 Q265.565 1525.51 265.565 1523.82 Q265.565 1521.07 263.621 1519.33 Q261.7 1517.6 258.598 1517.6 Q256.399 1517.6 253.945 1518.36 Q251.514 1519.13 248.737 1520.68 L248.737 1515.95 Q251.561 1514.82 254.014 1514.24 Q256.468 1513.66 258.505 1513.66 Q263.875 1513.66 267.07 1516.35 Q270.264 1519.03 270.264 1523.52 Q270.264 1525.65 269.454 1527.57 Q268.667 1529.47 266.561 1532.07 Q265.982 1532.74 262.88 1535.95 Q259.778 1539.15 254.13 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M722.859 1532.02 L752.534 1532.02 L752.534 1535.95 L722.859 1535.95 L722.859 1532.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M763.437 1544.91 L771.076 1544.91 L771.076 1518.55 L762.766 1520.21 L762.766 1515.95 L771.03 1514.29 L775.706 1514.29 L775.706 1544.91 L783.344 1544.91 L783.344 1548.85 L763.437 1548.85 L763.437 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1265.81 1517.37 Q1262.2 1517.37 1260.37 1520.93 Q1258.57 1524.47 1258.57 1531.6 Q1258.57 1538.71 1260.37 1542.27 Q1262.2 1545.82 1265.81 1545.82 Q1269.45 1545.82 1271.25 1542.27 Q1273.08 1538.71 1273.08 1531.6 Q1273.08 1524.47 1271.25 1520.93 Q1269.45 1517.37 1265.81 1517.37 M1265.81 1513.66 Q1271.62 1513.66 1274.68 1518.27 Q1277.76 1522.85 1277.76 1531.6 Q1277.76 1540.33 1274.68 1544.94 Q1271.62 1549.52 1265.81 1549.52 Q1260 1549.52 1256.92 1544.94 Q1253.87 1540.33 1253.87 1531.6 Q1253.87 1522.85 1256.92 1518.27 Q1260 1513.66 1265.81 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1768.9 1544.91 L1776.54 1544.91 L1776.54 1518.55 L1768.23 1520.21 L1768.23 1515.95 L1776.5 1514.29 L1781.17 1514.29 L1781.17 1544.91 L1788.81 1544.91 L1788.81 1548.85 L1768.9 1548.85 L1768.9 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2285.88 1544.91 L2302.2 1544.91 L2302.2 1548.85 L2280.26 1548.85 L2280.26 1544.91 Q2282.92 1542.16 2287.5 1537.53 Q2292.11 1532.88 2293.29 1531.53 Q2295.54 1529.01 2296.42 1527.27 Q2297.32 1525.51 2297.32 1523.82 Q2297.32 1521.07 2295.37 1519.33 Q2293.45 1517.6 2290.35 1517.6 Q2288.15 1517.6 2285.7 1518.36 Q2283.27 1519.13 2280.49 1520.68 L2280.49 1515.95 Q2283.31 1514.82 2285.77 1514.24 Q2288.22 1513.66 2290.26 1513.66 Q2295.63 1513.66 2298.82 1516.35 Q2302.02 1519.03 2302.02 1523.52 Q2302.02 1525.65 2301.21 1527.57 Q2300.42 1529.47 2298.31 1532.07 Q2297.74 1532.74 2294.63 1535.95 Q2291.53 1539.15 2285.88 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  178.867,1335.32 2352.76,1335.32 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  178.867,1145.83 2352.76,1145.83 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  178.867,956.338 2352.76,956.338 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  178.867,766.846 2352.76,766.846 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  178.867,577.354 2352.76,577.354 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  178.867,387.863 2352.76,387.863 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  178.867,198.371 2352.76,198.371 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  178.867,1486.45 178.867,47.2441 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  178.867,1335.32 197.764,1335.32 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  178.867,1145.83 197.764,1145.83 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  178.867,956.338 197.764,956.338 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  178.867,766.846 197.764,766.846 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  178.867,577.354 197.764,577.354 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  178.867,387.863 197.764,387.863 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  178.867,198.371 197.764,198.371 
  "/>
<path clip-path="url(#clip360)" d="M51.9875 1335.77 L81.6633 1335.77 L81.6633 1339.71 L51.9875 1339.71 L51.9875 1335.77 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M92.566 1348.67 L100.205 1348.67 L100.205 1322.3 L91.8947 1323.97 L91.8947 1319.71 L100.159 1318.04 L104.834 1318.04 L104.834 1348.67 L112.473 1348.67 L112.473 1352.6 L92.566 1352.6 L92.566 1348.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M121.964 1318.04 L140.32 1318.04 L140.32 1321.98 L126.246 1321.98 L126.246 1330.45 Q127.265 1330.1 128.283 1329.94 Q129.302 1329.75 130.32 1329.75 Q136.107 1329.75 139.487 1332.93 Q142.867 1336.1 142.867 1341.51 Q142.867 1347.09 139.394 1350.19 Q135.922 1353.27 129.603 1353.27 Q127.427 1353.27 125.158 1352.9 Q122.913 1352.53 120.506 1351.79 L120.506 1347.09 Q122.589 1348.23 124.811 1348.78 Q127.033 1349.34 129.51 1349.34 Q133.515 1349.34 135.853 1347.23 Q138.191 1345.12 138.191 1341.51 Q138.191 1337.9 135.853 1335.8 Q133.515 1333.69 129.51 1333.69 Q127.635 1333.69 125.76 1334.11 Q123.908 1334.52 121.964 1335.4 L121.964 1318.04 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M50.9921 1146.28 L80.6679 1146.28 L80.6679 1150.22 L50.9921 1150.22 L50.9921 1146.28 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M91.5706 1159.17 L99.2095 1159.17 L99.2095 1132.81 L90.8993 1134.48 L90.8993 1130.22 L99.1632 1128.55 L103.839 1128.55 L103.839 1159.17 L111.478 1159.17 L111.478 1163.11 L91.5706 1163.11 L91.5706 1159.17 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M130.922 1131.63 Q127.311 1131.63 125.482 1135.19 Q123.677 1138.73 123.677 1145.86 Q123.677 1152.97 125.482 1156.54 Q127.311 1160.08 130.922 1160.08 Q134.556 1160.08 136.362 1156.54 Q138.191 1152.97 138.191 1145.86 Q138.191 1138.73 136.362 1135.19 Q134.556 1131.63 130.922 1131.63 M130.922 1127.92 Q136.732 1127.92 139.788 1132.53 Q142.867 1137.11 142.867 1145.86 Q142.867 1154.59 139.788 1159.2 Q136.732 1163.78 130.922 1163.78 Q125.112 1163.78 122.033 1159.2 Q118.978 1154.59 118.978 1145.86 Q118.978 1137.11 122.033 1132.53 Q125.112 1127.92 130.922 1127.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M82.1494 956.789 L111.825 956.789 L111.825 960.724 L82.1494 960.724 L82.1494 956.789 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M121.964 939.058 L140.32 939.058 L140.32 942.993 L126.246 942.993 L126.246 951.465 Q127.265 951.118 128.283 950.956 Q129.302 950.771 130.32 950.771 Q136.107 950.771 139.487 953.942 Q142.867 957.113 142.867 962.53 Q142.867 968.108 139.394 971.21 Q135.922 974.289 129.603 974.289 Q127.427 974.289 125.158 973.919 Q122.913 973.548 120.506 972.808 L120.506 968.108 Q122.589 969.243 124.811 969.798 Q127.033 970.354 129.51 970.354 Q133.515 970.354 135.853 968.247 Q138.191 966.141 138.191 962.53 Q138.191 958.919 135.853 956.812 Q133.515 954.706 129.51 954.706 Q127.635 954.706 125.76 955.122 Q123.908 955.539 121.964 956.419 L121.964 939.058 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M130.922 752.645 Q127.311 752.645 125.482 756.209 Q123.677 759.751 123.677 766.881 Q123.677 773.987 125.482 777.552 Q127.311 781.094 130.922 781.094 Q134.556 781.094 136.362 777.552 Q138.191 773.987 138.191 766.881 Q138.191 759.751 136.362 756.209 Q134.556 752.645 130.922 752.645 M130.922 748.941 Q136.732 748.941 139.788 753.547 Q142.867 758.131 142.867 766.881 Q142.867 775.608 139.788 780.214 Q136.732 784.797 130.922 784.797 Q125.112 784.797 122.033 780.214 Q118.978 775.608 118.978 766.881 Q118.978 758.131 122.033 753.547 Q125.112 748.941 130.922 748.941 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M121.964 560.074 L140.32 560.074 L140.32 564.009 L126.246 564.009 L126.246 572.482 Q127.265 572.134 128.283 571.972 Q129.302 571.787 130.32 571.787 Q136.107 571.787 139.487 574.958 Q142.867 578.13 142.867 583.546 Q142.867 589.125 139.394 592.227 Q135.922 595.306 129.603 595.306 Q127.427 595.306 125.158 594.935 Q122.913 594.565 120.506 593.824 L120.506 589.125 Q122.589 590.259 124.811 590.815 Q127.033 591.37 129.51 591.37 Q133.515 591.37 135.853 589.264 Q138.191 587.157 138.191 583.546 Q138.191 579.935 135.853 577.829 Q133.515 575.722 129.51 575.722 Q127.635 575.722 125.76 576.139 Q123.908 576.556 121.964 577.435 L121.964 560.074 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M91.5706 401.207 L99.2095 401.207 L99.2095 374.842 L90.8993 376.508 L90.8993 372.249 L99.1632 370.583 L103.839 370.583 L103.839 401.207 L111.478 401.207 L111.478 405.143 L91.5706 405.143 L91.5706 401.207 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M130.922 373.661 Q127.311 373.661 125.482 377.226 Q123.677 380.768 123.677 387.897 Q123.677 395.004 125.482 398.569 Q127.311 402.11 130.922 402.11 Q134.556 402.11 136.362 398.569 Q138.191 395.004 138.191 387.897 Q138.191 380.768 136.362 377.226 Q134.556 373.661 130.922 373.661 M130.922 369.958 Q136.732 369.958 139.788 374.564 Q142.867 379.147 142.867 387.897 Q142.867 396.624 139.788 401.231 Q136.732 405.814 130.922 405.814 Q125.112 405.814 122.033 401.231 Q118.978 396.624 118.978 387.897 Q118.978 379.147 122.033 374.564 Q125.112 369.958 130.922 369.958 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M92.566 211.716 L100.205 211.716 L100.205 185.35 L91.8947 187.017 L91.8947 182.758 L100.159 181.091 L104.834 181.091 L104.834 211.716 L112.473 211.716 L112.473 215.651 L92.566 215.651 L92.566 211.716 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M121.964 181.091 L140.32 181.091 L140.32 185.026 L126.246 185.026 L126.246 193.498 Q127.265 193.151 128.283 192.989 Q129.302 192.804 130.32 192.804 Q136.107 192.804 139.487 195.975 Q142.867 199.146 142.867 204.563 Q142.867 210.142 139.394 213.243 Q135.922 216.322 129.603 216.322 Q127.427 216.322 125.158 215.952 Q122.913 215.581 120.506 214.841 L120.506 210.142 Q122.589 211.276 124.811 211.831 Q127.033 212.387 129.51 212.387 Q133.515 212.387 135.853 210.281 Q138.191 208.174 138.191 204.563 Q138.191 200.952 135.853 198.845 Q133.515 196.739 129.51 196.739 Q127.635 196.739 125.76 197.156 Q123.908 197.572 121.964 198.452 L121.964 181.091 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip362)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:12; stroke-opacity:1; fill:none" points="
  240.392,910.254 291.663,852.395 342.934,785.463 394.205,719.673 445.476,662.748 496.747,619.408 548.018,591.526 599.289,578.699 650.56,578.973 701.831,589.555 
  753.102,607.394 804.373,629.6 855.643,653.682 906.914,677.666 958.185,700.093 1009.46,719.965 1060.73,736.657 1112,749.815 1163.27,759.268 1214.54,764.951 
  1265.81,766.846 1317.08,764.951 1368.35,759.268 1419.62,749.815 1470.9,736.657 1522.17,719.965 1573.44,700.093 1624.71,677.666 1675.98,653.682 1727.25,629.6 
  1778.52,607.394 1829.79,589.555 1881.06,578.973 1932.33,578.699 1983.6,591.526 2034.88,619.408 2086.15,662.748 2137.42,719.673 2188.69,785.463 2239.96,852.395 
  2291.23,910.254 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#e26f46; stroke-linecap:butt; stroke-linejoin:round; stroke-width:12; stroke-opacity:1; fill:none" stroke-dasharray="6, 12" points="
  240.392,271.406 291.663,124.337 342.934,87.9763 394.205,142.858 445.476,260.167 496.747,409.745 548.018,565.518 599.289,708.256 650.56,826.16 701.831,914.013 
  753.102,971.612 804.373,1002.02 855.643,1010.03 906.914,1000.92 958.185,979.66 1009.46,950.447 1060.73,916.503 1112,880.081 1163.27,842.582 1214.54,804.742 
  1265.81,766.846 1317.08,728.95 1368.35,691.11 1419.62,653.611 1470.9,617.189 1522.17,583.245 1573.44,554.032 1624.71,532.773 1675.98,523.661 1727.25,531.668 
  1778.52,562.08 1829.79,619.679 1881.06,707.532 1932.33,825.436 1983.6,968.174 2034.88,1123.95 2086.15,1273.52 2137.42,1390.83 2188.69,1445.72 2239.96,1409.35 
  2291.23,1262.29 
  "/>
<polyline clip-path="url(#clip362)" style="stroke:#3da44d; stroke-linecap:butt; stroke-linejoin:round; stroke-width:12; stroke-opacity:1; fill:none" stroke-dasharray="48, 30" points="
  240.392,271.406 291.663,124.337 342.934,87.9763 394.205,142.858 445.476,260.167 496.747,409.745 548.018,565.518 599.289,708.256 650.56,826.16 701.831,914.013 
  753.102,971.612 804.373,1002.02 855.643,1010.03 906.914,1000.92 958.185,979.66 1009.46,950.447 1060.73,916.503 1112,880.081 1163.27,842.582 1214.54,804.742 
  1265.81,766.846 1317.08,728.95 1368.35,691.11 1419.62,653.611 1470.9,617.189 1522.17,583.245 1573.44,554.032 1624.71,532.773 1675.98,523.661 1727.25,531.668 
  1778.52,562.08 1829.79,619.679 1881.06,707.532 1932.33,825.436 1983.6,968.174 2034.88,1123.95 2086.15,1273.52 2137.42,1390.83 2188.69,1445.72 2239.96,1409.35 
  2291.23,1262.29 
  "/>
<path clip-path="url(#clip360)" d="
M1544.42 302.578 L2280.29 302.578 L2280.29 95.2176 L1544.42 95.2176  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip360)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1544.42,302.578 2280.29,302.578 2280.29,95.2176 1544.42,95.2176 1544.42,302.578 
  "/>
<polyline clip-path="url(#clip360)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1568.58,147.058 1713.5,147.058 
  "/>
<path clip-path="url(#clip360)" d="M1754.16 128.319 L1754.16 131.861 L1750.09 131.861 Q1747.8 131.861 1746.89 132.787 Q1746.01 133.713 1746.01 136.12 L1746.01 138.412 L1753.03 138.412 L1753.03 141.722 L1746.01 141.722 L1746.01 164.338 L1741.73 164.338 L1741.73 141.722 L1737.66 141.722 L1737.66 138.412 L1741.73 138.412 L1741.73 136.606 Q1741.73 132.278 1743.75 130.31 Q1745.76 128.319 1750.14 128.319 L1754.16 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1767.96 128.366 Q1764.86 133.69 1763.35 138.898 Q1761.85 144.106 1761.85 149.453 Q1761.85 154.801 1763.35 160.055 Q1764.88 165.287 1767.96 170.588 L1764.26 170.588 Q1760.78 165.148 1759.05 159.893 Q1757.33 154.639 1757.33 149.453 Q1757.33 144.291 1759.05 139.06 Q1760.76 133.828 1764.26 128.366 L1767.96 128.366 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1797.77 138.412 L1788.4 151.027 L1798.26 164.338 L1793.24 164.338 L1785.69 154.152 L1778.14 164.338 L1773.12 164.338 L1783.19 150.773 L1773.98 138.412 L1779 138.412 L1785.88 147.648 L1792.75 138.412 L1797.77 138.412 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1803.61 128.366 L1807.31 128.366 Q1810.78 133.828 1812.5 139.06 Q1814.23 144.291 1814.23 149.453 Q1814.23 154.639 1812.5 159.893 Q1810.78 165.148 1807.31 170.588 L1803.61 170.588 Q1806.69 165.287 1808.19 160.055 Q1809.72 154.801 1809.72 149.453 Q1809.72 144.106 1808.19 138.898 Q1806.69 133.69 1803.61 128.366 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1838.4 142.81 L1868.07 142.81 L1868.07 146.699 L1838.4 146.699 L1838.4 142.81 M1838.4 152.254 L1868.07 152.254 L1868.07 156.189 L1838.4 156.189 L1838.4 152.254 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1893.28 129.778 L1911.64 129.778 L1911.64 133.713 L1897.56 133.713 L1897.56 142.185 Q1898.58 141.838 1899.6 141.676 Q1900.62 141.49 1901.64 141.49 Q1907.43 141.49 1910.81 144.662 Q1914.19 147.833 1914.19 153.25 Q1914.19 158.828 1910.71 161.93 Q1907.24 165.009 1900.92 165.009 Q1898.75 165.009 1896.48 164.638 Q1894.23 164.268 1891.82 163.527 L1891.82 158.828 Q1893.91 159.963 1896.13 160.518 Q1898.35 161.074 1900.83 161.074 Q1904.83 161.074 1907.17 158.967 Q1909.51 156.861 1909.51 153.25 Q1909.51 149.639 1907.17 147.532 Q1904.83 145.426 1900.83 145.426 Q1898.95 145.426 1897.08 145.842 Q1895.23 146.259 1893.28 147.139 L1893.28 129.778 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1939.32 139.176 L1939.32 143.203 Q1937.52 142.277 1935.57 141.815 Q1933.63 141.352 1931.55 141.352 Q1928.37 141.352 1926.78 142.324 Q1925.2 143.296 1925.2 145.24 Q1925.2 146.722 1926.34 147.578 Q1927.47 148.412 1930.9 149.176 L1932.36 149.5 Q1936.89 150.472 1938.79 152.254 Q1940.71 154.014 1940.71 157.185 Q1940.71 160.796 1937.84 162.902 Q1935 165.009 1930 165.009 Q1927.91 165.009 1925.64 164.592 Q1923.4 164.199 1920.9 163.388 L1920.9 158.99 Q1923.26 160.217 1925.55 160.842 Q1927.84 161.444 1930.09 161.444 Q1933.1 161.444 1934.72 160.426 Q1936.34 159.384 1936.34 157.509 Q1936.34 155.773 1935.16 154.847 Q1934 153.921 1930.04 153.064 L1928.56 152.717 Q1924.6 151.884 1922.84 150.171 Q1921.08 148.435 1921.08 145.426 Q1921.08 141.768 1923.68 139.778 Q1926.27 137.787 1931.04 137.787 Q1933.4 137.787 1935.48 138.134 Q1937.56 138.481 1939.32 139.176 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1947.5 138.412 L1951.75 138.412 L1951.75 164.338 L1947.5 164.338 L1947.5 138.412 M1947.5 128.319 L1951.75 128.319 L1951.75 133.713 L1947.5 133.713 L1947.5 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1982.22 148.689 L1982.22 164.338 L1977.96 164.338 L1977.96 148.828 Q1977.96 145.148 1976.52 143.319 Q1975.09 141.49 1972.22 141.49 Q1968.77 141.49 1966.78 143.69 Q1964.79 145.889 1964.79 149.685 L1964.79 164.338 L1960.5 164.338 L1960.5 138.412 L1964.79 138.412 L1964.79 142.44 Q1966.31 140.102 1968.37 138.944 Q1970.46 137.787 1973.17 137.787 Q1977.63 137.787 1979.93 140.565 Q1982.22 143.319 1982.22 148.689 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2000.94 128.366 Q1997.84 133.69 1996.34 138.898 Q1994.83 144.106 1994.83 149.453 Q1994.83 154.801 1996.34 160.055 Q1997.87 165.287 2000.94 170.588 L1997.24 170.588 Q1993.77 165.148 1992.03 159.893 Q1990.32 154.639 1990.32 149.453 Q1990.32 144.291 1992.03 139.06 Q1993.74 133.828 1997.24 128.366 L2000.94 128.366 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2030.76 138.412 L2021.38 151.027 L2031.24 164.338 L2026.22 164.338 L2018.68 154.152 L2011.13 164.338 L2006.11 164.338 L2016.18 150.773 L2006.96 138.412 L2011.99 138.412 L2018.86 147.648 L2025.74 138.412 L2030.76 138.412 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2054.93 129.778 L2067.49 142.671 L2062.84 142.671 L2052.66 133.528 L2042.47 142.671 L2037.82 142.671 L2050.39 129.778 L2054.93 129.778 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2081.61 160.402 L2097.93 160.402 L2097.93 164.338 L2075.99 164.338 L2075.99 160.402 Q2078.65 157.648 2083.24 153.018 Q2087.84 148.365 2089.02 147.023 Q2091.27 144.5 2092.15 142.764 Q2093.05 141.004 2093.05 139.315 Q2093.05 136.56 2091.11 134.824 Q2089.18 133.088 2086.08 133.088 Q2083.88 133.088 2081.43 133.852 Q2079 134.615 2076.22 136.166 L2076.22 131.444 Q2079.05 130.31 2081.5 129.731 Q2083.95 129.153 2085.99 129.153 Q2091.36 129.153 2094.55 131.838 Q2097.75 134.523 2097.75 139.014 Q2097.75 141.143 2096.94 143.065 Q2096.15 144.963 2094.05 147.555 Q2093.47 148.227 2090.36 151.444 Q2087.26 154.639 2081.61 160.402 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2106.48 128.366 L2110.18 128.366 Q2113.65 133.828 2115.36 139.06 Q2117.1 144.291 2117.1 149.453 Q2117.1 154.639 2115.36 159.893 Q2113.65 165.148 2110.18 170.588 L2106.48 170.588 Q2109.55 165.287 2111.06 160.055 Q2112.59 154.801 2112.59 149.453 Q2112.59 144.106 2111.06 138.898 Q2109.55 133.69 2106.48 128.366 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip360)" style="stroke:#e26f46; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" stroke-dasharray="2, 4" points="
  1568.58,198.898 1713.5,198.898 
  "/>
<path clip-path="url(#clip360)" d="M1753.49 186.224 L1747.15 203.423 L1759.86 203.423 L1753.49 186.224 M1750.85 181.618 L1756.15 181.618 L1769.32 216.178 L1764.46 216.178 L1761.32 207.312 L1745.74 207.312 L1742.59 216.178 L1737.66 216.178 L1750.85 181.618 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1795.74 200.529 L1795.74 216.178 L1791.48 216.178 L1791.48 200.668 Q1791.48 196.988 1790.04 195.159 Q1788.61 193.33 1785.74 193.33 Q1782.29 193.33 1780.3 195.53 Q1778.31 197.729 1778.31 201.525 L1778.31 216.178 L1774.02 216.178 L1774.02 190.252 L1778.31 190.252 L1778.31 194.28 Q1779.83 191.942 1781.89 190.784 Q1783.98 189.627 1786.69 189.627 Q1791.15 189.627 1793.44 192.405 Q1795.74 195.159 1795.74 200.529 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1816.01 203.145 Q1810.85 203.145 1808.86 204.326 Q1806.87 205.506 1806.87 208.354 Q1806.87 210.622 1808.35 211.965 Q1809.86 213.284 1812.43 213.284 Q1815.97 213.284 1818.1 210.784 Q1820.25 208.261 1820.25 204.094 L1820.25 203.145 L1816.01 203.145 M1824.51 201.386 L1824.51 216.178 L1820.25 216.178 L1820.25 212.242 Q1818.79 214.603 1816.62 215.738 Q1814.44 216.849 1811.29 216.849 Q1807.31 216.849 1804.95 214.627 Q1802.61 212.381 1802.61 208.631 Q1802.61 204.256 1805.53 202.034 Q1808.47 199.812 1814.28 199.812 L1820.25 199.812 L1820.25 199.395 Q1820.25 196.455 1818.31 194.858 Q1816.38 193.238 1812.89 193.238 Q1810.67 193.238 1808.56 193.77 Q1806.45 194.303 1804.51 195.367 L1804.51 191.432 Q1806.85 190.53 1809.05 190.09 Q1811.25 189.627 1813.33 189.627 Q1818.95 189.627 1821.73 192.543 Q1824.51 195.46 1824.51 201.386 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1833.28 180.159 L1837.54 180.159 L1837.54 216.178 L1833.28 216.178 L1833.28 180.159 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1857.24 218.585 Q1855.44 223.215 1853.72 224.627 Q1852.01 226.039 1849.14 226.039 L1845.74 226.039 L1845.74 222.474 L1848.24 222.474 Q1850 222.474 1850.97 221.64 Q1851.94 220.807 1853.12 217.705 L1853.88 215.761 L1843.4 190.252 L1847.91 190.252 L1856.01 210.529 L1864.12 190.252 L1868.63 190.252 L1857.24 218.585 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1878.72 182.891 L1878.72 190.252 L1887.5 190.252 L1887.5 193.562 L1878.72 193.562 L1878.72 207.636 Q1878.72 210.807 1879.58 211.71 Q1880.46 212.613 1883.12 212.613 L1887.5 212.613 L1887.5 216.178 L1883.12 216.178 Q1878.19 216.178 1876.31 214.349 Q1874.44 212.497 1874.44 207.636 L1874.44 193.562 L1871.31 193.562 L1871.31 190.252 L1874.44 190.252 L1874.44 182.891 L1878.72 182.891 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1893.1 190.252 L1897.36 190.252 L1897.36 216.178 L1893.1 216.178 L1893.1 190.252 M1893.1 180.159 L1897.36 180.159 L1897.36 185.553 L1893.1 185.553 L1893.1 180.159 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1924.93 191.247 L1924.93 195.229 Q1923.12 194.233 1921.29 193.747 Q1919.49 193.238 1917.63 193.238 Q1913.49 193.238 1911.2 195.877 Q1908.91 198.492 1908.91 203.238 Q1908.91 207.983 1911.2 210.622 Q1913.49 213.238 1917.63 213.238 Q1919.49 213.238 1921.29 212.752 Q1923.12 212.242 1924.93 211.247 L1924.93 215.182 Q1923.14 216.016 1921.22 216.432 Q1919.32 216.849 1917.17 216.849 Q1911.31 216.849 1907.87 213.168 Q1904.42 209.488 1904.42 203.238 Q1904.42 196.895 1907.89 193.261 Q1911.38 189.627 1917.45 189.627 Q1919.42 189.627 1921.29 190.043 Q1923.17 190.437 1924.93 191.247 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1960.53 180.159 L1960.53 183.701 L1956.45 183.701 Q1954.16 183.701 1953.26 184.627 Q1952.38 185.553 1952.38 187.96 L1952.38 190.252 L1959.39 190.252 L1959.39 193.562 L1952.38 193.562 L1952.38 216.178 L1948.1 216.178 L1948.1 193.562 L1944.02 193.562 L1944.02 190.252 L1948.1 190.252 L1948.1 188.446 Q1948.1 184.118 1950.11 182.15 Q1952.12 180.159 1956.5 180.159 L1960.53 180.159 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1968.12 181.618 L1968.12 194.465 L1964.18 194.465 L1964.18 181.618 L1968.12 181.618 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip360)" style="stroke:#3da44d; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" stroke-dasharray="16, 10" points="
  1568.58,250.738 1713.5,250.738 
  "/>
<path clip-path="url(#clip360)" d="M1742.33 237.3 L1742.33 264.175 L1747.98 264.175 Q1755.13 264.175 1758.45 260.934 Q1761.78 257.694 1761.78 250.703 Q1761.78 243.758 1758.45 240.541 Q1755.13 237.3 1747.98 237.3 L1742.33 237.3 M1737.66 233.458 L1747.26 233.458 Q1757.31 233.458 1762.01 237.647 Q1766.71 241.814 1766.71 250.703 Q1766.71 259.638 1761.99 263.828 Q1757.26 268.018 1747.26 268.018 L1737.66 268.018 L1737.66 233.458 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1773.54 257.786 L1773.54 242.092 L1777.8 242.092 L1777.8 257.624 Q1777.8 261.305 1779.23 263.156 Q1780.67 264.985 1783.54 264.985 Q1786.99 264.985 1788.98 262.786 Q1790.99 260.587 1790.99 256.791 L1790.99 242.092 L1795.25 242.092 L1795.25 268.018 L1790.99 268.018 L1790.99 264.036 Q1789.44 266.397 1787.38 267.555 Q1785.34 268.689 1782.63 268.689 Q1778.17 268.689 1775.85 265.911 Q1773.54 263.133 1773.54 257.786 M1784.26 241.467 L1784.26 241.467 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1815.81 254.985 Q1810.64 254.985 1808.65 256.166 Q1806.66 257.346 1806.66 260.194 Q1806.66 262.462 1808.14 263.805 Q1809.65 265.124 1812.22 265.124 Q1815.76 265.124 1817.89 262.624 Q1820.04 260.101 1820.04 255.934 L1820.04 254.985 L1815.81 254.985 M1824.3 253.226 L1824.3 268.018 L1820.04 268.018 L1820.04 264.082 Q1818.58 266.443 1816.41 267.578 Q1814.23 268.689 1811.08 268.689 Q1807.1 268.689 1804.74 266.467 Q1802.4 264.221 1802.4 260.471 Q1802.4 256.096 1805.32 253.874 Q1808.26 251.652 1814.07 251.652 L1820.04 251.652 L1820.04 251.235 Q1820.04 248.295 1818.1 246.698 Q1816.18 245.078 1812.68 245.078 Q1810.46 245.078 1808.35 245.61 Q1806.25 246.143 1804.3 247.207 L1804.3 243.272 Q1806.64 242.37 1808.84 241.93 Q1811.04 241.467 1813.12 241.467 Q1818.75 241.467 1821.52 244.383 Q1824.3 247.3 1824.3 253.226 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1833.07 231.999 L1837.33 231.999 L1837.33 268.018 L1833.07 268.018 L1833.07 231.999 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1861.5 233.458 L1881.36 233.458 L1881.36 237.393 L1866.18 237.393 L1866.18 247.578 L1879.88 247.578 L1879.88 251.513 L1866.18 251.513 L1866.18 268.018 L1861.5 268.018 L1861.5 233.458 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1896.94 245.078 Q1893.51 245.078 1891.52 247.763 Q1889.53 250.425 1889.53 255.078 Q1889.53 259.731 1891.5 262.416 Q1893.49 265.078 1896.94 265.078 Q1900.34 265.078 1902.33 262.393 Q1904.32 259.707 1904.32 255.078 Q1904.32 250.471 1902.33 247.786 Q1900.34 245.078 1896.94 245.078 M1896.94 241.467 Q1902.5 241.467 1905.67 245.078 Q1908.84 248.689 1908.84 255.078 Q1908.84 261.444 1905.67 265.078 Q1902.5 268.689 1896.94 268.689 Q1891.36 268.689 1888.19 265.078 Q1885.04 261.444 1885.04 255.078 Q1885.04 248.689 1888.19 245.078 Q1891.36 241.467 1896.94 241.467 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1930.92 246.073 Q1930.2 245.657 1929.35 245.471 Q1928.51 245.263 1927.5 245.263 Q1923.88 245.263 1921.94 247.624 Q1920.02 249.962 1920.02 254.36 L1920.02 268.018 L1915.74 268.018 L1915.74 242.092 L1920.02 242.092 L1920.02 246.12 Q1921.36 243.758 1923.51 242.624 Q1925.67 241.467 1928.75 241.467 Q1929.18 241.467 1929.72 241.536 Q1930.25 241.583 1930.9 241.698 L1930.92 246.073 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1932.91 242.092 L1937.17 242.092 L1942.5 262.323 L1947.8 242.092 L1952.82 242.092 L1958.14 262.323 L1963.44 242.092 L1967.7 242.092 L1960.92 268.018 L1955.9 268.018 L1950.32 246.768 L1944.72 268.018 L1939.69 268.018 L1932.91 242.092 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M1985.94 254.985 Q1980.78 254.985 1978.79 256.166 Q1976.8 257.346 1976.8 260.194 Q1976.8 262.462 1978.28 263.805 Q1979.79 265.124 1982.36 265.124 Q1985.9 265.124 1988.03 262.624 Q1990.18 260.101 1990.18 255.934 L1990.18 254.985 L1985.94 254.985 M1994.44 253.226 L1994.44 268.018 L1990.18 268.018 L1990.18 264.082 Q1988.72 266.443 1986.55 267.578 Q1984.37 268.689 1981.22 268.689 Q1977.24 268.689 1974.88 266.467 Q1972.54 264.221 1972.54 260.471 Q1972.54 256.096 1975.46 253.874 Q1978.4 251.652 1984.21 251.652 L1990.18 251.652 L1990.18 251.235 Q1990.18 248.295 1988.24 246.698 Q1986.31 245.078 1982.82 245.078 Q1980.6 245.078 1978.49 245.61 Q1976.38 246.143 1974.44 247.207 L1974.44 243.272 Q1976.78 242.37 1978.98 241.93 Q1981.18 241.467 1983.26 241.467 Q1988.88 241.467 1991.66 244.383 Q1994.44 247.3 1994.44 253.226 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2018.24 246.073 Q2017.52 245.657 2016.66 245.471 Q2015.83 245.263 2014.81 245.263 Q2011.2 245.263 2009.25 247.624 Q2007.33 249.962 2007.33 254.36 L2007.33 268.018 L2003.05 268.018 L2003.05 242.092 L2007.33 242.092 L2007.33 246.12 Q2008.68 243.758 2010.83 242.624 Q2012.98 241.467 2016.06 241.467 Q2016.5 241.467 2017.03 241.536 Q2017.56 241.583 2018.21 241.698 L2018.24 246.073 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2038.93 246.027 L2038.93 231.999 L2043.19 231.999 L2043.19 268.018 L2038.93 268.018 L2038.93 264.129 Q2037.59 266.443 2035.53 267.578 Q2033.49 268.689 2030.62 268.689 Q2025.92 268.689 2022.96 264.939 Q2020.02 261.189 2020.02 255.078 Q2020.02 248.967 2022.96 245.217 Q2025.92 241.467 2030.62 241.467 Q2033.49 241.467 2035.53 242.601 Q2037.59 243.712 2038.93 246.027 M2024.42 255.078 Q2024.42 259.777 2026.34 262.462 Q2028.28 265.124 2031.66 265.124 Q2035.04 265.124 2036.99 262.462 Q2038.93 259.777 2038.93 255.078 Q2038.93 250.379 2036.99 247.717 Q2035.04 245.032 2031.66 245.032 Q2028.28 245.032 2026.34 247.717 Q2024.42 250.379 2024.42 255.078 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2067.22 233.458 L2074.18 233.458 L2083 256.976 L2091.87 233.458 L2098.84 233.458 L2098.84 268.018 L2094.28 268.018 L2094.28 237.67 L2085.36 261.374 L2080.67 261.374 L2071.75 237.67 L2071.75 268.018 L2067.22 268.018 L2067.22 233.458 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2117.98 245.078 Q2114.55 245.078 2112.56 247.763 Q2110.57 250.425 2110.57 255.078 Q2110.57 259.731 2112.54 262.416 Q2114.53 265.078 2117.98 265.078 Q2121.38 265.078 2123.37 262.393 Q2125.36 259.707 2125.36 255.078 Q2125.36 250.471 2123.37 247.786 Q2121.38 245.078 2117.98 245.078 M2117.98 241.467 Q2123.54 241.467 2126.71 245.078 Q2129.88 248.689 2129.88 255.078 Q2129.88 261.444 2126.71 265.078 Q2123.54 268.689 2117.98 268.689 Q2112.4 268.689 2109.23 265.078 Q2106.08 261.444 2106.08 255.078 Q2106.08 248.689 2109.23 245.078 Q2112.4 241.467 2117.98 241.467 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2154 246.027 L2154 231.999 L2158.26 231.999 L2158.26 268.018 L2154 268.018 L2154 264.129 Q2152.66 266.443 2150.6 267.578 Q2148.56 268.689 2145.69 268.689 Q2140.99 268.689 2138.03 264.939 Q2135.09 261.189 2135.09 255.078 Q2135.09 248.967 2138.03 245.217 Q2140.99 241.467 2145.69 241.467 Q2148.56 241.467 2150.6 242.601 Q2152.66 243.712 2154 246.027 M2139.48 255.078 Q2139.48 259.777 2141.41 262.462 Q2143.35 265.124 2146.73 265.124 Q2150.11 265.124 2152.05 262.462 Q2154 259.777 2154 255.078 Q2154 250.379 2152.05 247.717 Q2150.11 245.032 2146.73 245.032 Q2143.35 245.032 2141.41 247.717 Q2139.48 250.379 2139.48 255.078 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2189.21 253.99 L2189.21 256.073 L2169.62 256.073 Q2169.9 260.471 2172.26 262.786 Q2174.65 265.078 2178.88 265.078 Q2181.34 265.078 2183.63 264.476 Q2185.94 263.874 2188.21 262.67 L2188.21 266.698 Q2185.92 267.67 2183.51 268.18 Q2181.1 268.689 2178.63 268.689 Q2172.42 268.689 2168.79 265.078 Q2165.18 261.467 2165.18 255.309 Q2165.18 248.944 2168.6 245.217 Q2172.05 241.467 2177.89 241.467 Q2183.12 241.467 2186.15 244.846 Q2189.21 248.203 2189.21 253.99 M2184.95 252.74 Q2184.9 249.245 2182.98 247.161 Q2181.08 245.078 2177.93 245.078 Q2174.37 245.078 2172.22 247.092 Q2170.09 249.106 2169.76 252.763 L2184.95 252.74 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2224.39 231.999 L2224.39 235.541 L2220.32 235.541 Q2218.03 235.541 2217.12 236.467 Q2216.24 237.393 2216.24 239.8 L2216.24 242.092 L2223.26 242.092 L2223.26 245.402 L2216.24 245.402 L2216.24 268.018 L2211.96 268.018 L2211.96 245.402 L2207.89 245.402 L2207.89 242.092 L2211.96 242.092 L2211.96 240.286 Q2211.96 235.958 2213.98 233.99 Q2215.99 231.999 2220.36 231.999 L2224.39 231.999 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip360)" d="M2231.98 233.458 L2231.98 246.305 L2228.05 246.305 L2228.05 233.458 L2231.98 233.458 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<hr/><ul><li>Efficiency of the forward pass becomes essentially a compiler problem</li><li>If we define specialized rules we will gain performance</li></ul><hr/><h1 id="Performance-Forward-vs.-Reverse"><a class="docs-heading-anchor" href="#Performance-Forward-vs.-Reverse">Performance Forward vs. Reverse</a><a id="Performance-Forward-vs.-Reverse-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-Forward-vs.-Reverse" title="Permalink"></a></h1><p>This section compares the performance of three different, widely used Julia AD systems <code>ForwardDiff.jl</code> (forward mode), <code>ReverseDiff.jl</code> (tracing-based reverse mode), and <code>Zygote.jl</code> (source-to-source reverse mode), as well as JAX forward/reverse modes.</p><p>As a benchmark function we can compute the Jacobian of <span>$f:\mathbb R^N \rightarrow \mathbb R^M$</span> with respect to <span>$\bm x$</span>. In the benchmark we test various different values of <span>$N$</span> and <span>$M$</span> to show the differences between the backends.</p><p class="math-container">\[f(\bm x) = (\bm W \bm x + \bm b)^2\]</p><div class="data-frame"><p>5 rows × 6 columns</p><table class="data-frame"><thead><tr><th></th><th>N x M</th><th>10000x1</th><th>1000x1</th><th>100x1</th><th>100x100</th><th>100x1000</th></tr><tr><th></th><th title="Any">Any</th><th title="Any">Any</th><th title="Any">Any</th><th title="Any">Any</th><th title="Any">Any</th><th title="Any">Any</th></tr></thead><tbody><tr><th>1</th><td>ForwardDiff.jl</td><td>29.4</td><td>0.381397</td><td>0.0119618</td><td>0.21592</td><td>2.92625</td></tr><tr><th>2</th><td>ReverseDiff.jl</td><td>0.271418</td><td>0.0685338</td><td>0.0598211</td><td>0.794221</td><td>11.7976</td></tr><tr><th>3</th><td>Zygote.jl</td><td>0.0480226</td><td>0.00649856</td><td>0.00154686</td><td>0.0200348</td><td>0.173701</td></tr><tr><th>4</th><td>JAX (forward)</td><td>59.0695</td><td>5.01165</td><td>2.87567</td><td>2.48415</td><td>4.09149</td></tr><tr><th>5</th><td>JAX (reverse)</td><td>4.63548</td><td>3.61162</td><td>3.16331</td><td>3.09636</td><td>7.97515</td></tr></tbody></table></div><h1 id="TODO"><a class="docs-heading-anchor" href="#TODO">TODO</a><a id="TODO-1"></a><a class="docs-heading-anchor-permalink" href="#TODO" title="Permalink"></a></h1><ul><li>show constant gradient of linear function in LLVM</li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Friday 19 November 2021 17:29">Friday 19 November 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
