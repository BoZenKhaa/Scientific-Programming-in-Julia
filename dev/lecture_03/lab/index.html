<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lab · Scientific Programming in Julia</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JuliaTeachingCTU.github.io/Scientific-Programming-in-Julia/lecture_03/lab/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Scientific Programming in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Scientific Programming in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Scientific Programming in Julia</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">1: Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/motivation/">Motivation</a></li><li><a class="tocitem" href="../../lecture_01/outline/">Outline</a></li><li><a class="tocitem" href="../../lecture_01/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_01/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">2: The power of Type System &amp; multiple dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_02/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_02/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_02/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">3: Design patterns</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Lab</a><ul class="internal"><li><a class="tocitem" href="#Reproduction"><span>Reproduction</span></a></li><li><a class="tocitem" href="#One-step-at-a-time"><span>One step at a time</span></a></li><li><a class="tocitem" href="#Simulate-the-world!"><span>Simulate the world!</span></a></li><li><a class="tocitem" href="#Female-and-Male-Sheep"><span>Female &amp; Male Sheep</span></a></li></ul></li><li><a class="tocitem" href="../hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">4: Packages development, environments, etc...</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_04/lab/">Lab</a></li></ul></li><li><span class="tocitem">5: Benchmarking, profiling, and performance gotchas</span></li><li><span class="tocitem">6: Language introspection</span></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">7: Macros</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_07/macros/">Macros</a></li></ul></li><li><span class="tocitem">8: Introduction to automatic differentiation</span></li><li><span class="tocitem">9: Manipulating intermediate representation</span></li><li><span class="tocitem">10: Different levels of parallel programming</span></li><li><span class="tocitem">11: Julia for GPU programming</span></li><li><span class="tocitem">12: Uncertainty propagation in ODE</span></li><li><span class="tocitem">13: Learning ODE from data</span></li><li><a class="tocitem" href="../../how_to_submit_hw/">How to submit homeworks</a></li><li><a class="tocitem" href="../../howto/">How To ...</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">3: Design patterns</a></li><li class="is-active"><a href>Lab</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lab</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTeachingCTU/Scientific-Programming-in-Julia/blob/master/docs/src/lecture_03/lab.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Lab-3:-Predator-Prey-Agents"><a class="docs-heading-anchor" href="#Lab-3:-Predator-Prey-Agents">Lab 3: Predator-Prey Agents</a><a id="Lab-3:-Predator-Prey-Agents-1"></a><a class="docs-heading-anchor-permalink" href="#Lab-3:-Predator-Prey-Agents" title="Permalink"></a></h1><p>In this lab we will finalize our predator-prey agent simulation such that we can simulate a number of steps and get a plot like below.</p><p><img src="../pred-prey.png" alt="img"/></p><h2 id="Reproduction"><a class="docs-heading-anchor" href="#Reproduction">Reproduction</a><a id="Reproduction-1"></a><a class="docs-heading-anchor-permalink" href="#Reproduction" title="Permalink"></a></h2><p>Currently our animals can only eat. In our simulation we also want them to reproduce. We will do this by adding a <code>reproduce!</code> method to <code>AbstractAnimal</code>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Write a function <code>reproduce!</code> that takes an <code>AbstractAnimal</code> and a <code>World</code>. Reproducing will cost an animal half of its energy and then add an identical copy of the given animal to the world.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function reproduce!(a::AbstractAnimal, w::World)
    energy!(a, energy(a)/2)
    push!(w.agents, deepcopy(a))
end</code></pre></p></details><h2 id="One-step-at-a-time"><a class="docs-heading-anchor" href="#One-step-at-a-time">One step at a time</a><a id="One-step-at-a-time-1"></a><a class="docs-heading-anchor-permalink" href="#One-step-at-a-time" title="Permalink"></a></h2><p>One iteration of our simulation will be carried out by a function called <code>agent_step!(::AbstractAgent, ::World)</code>. Implement one method for <code>AbstractPlant</code>s and one for <code>AbstractAnimal</code>s.</p><p>An <code>AbstractPlant</code> will grow if it is not fully grown (i.e. decrease growth counter).  If the growth counter has reached zero, the <code>fully_grown</code> flag has to be set to <code>true</code> and the counter reset to <code>regrowth_time</code>.</p><p>An <code>AbstractAnimal</code> will loose one unit of energy in every step.  Then it will try to find food and eat. After eating, if its energy is less than zero, the animal dies.  If it is still alive, it will try to reproduce with the probablitiy <span>$p_r$</span>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Implement the function <code>agent_step!</code> with specialized methods for <code>AbstractAnimal</code>s and <code>AbstractPlant</code>s.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function agent_step!(a::AbstractPlant, w::World)
    if !fully_grown(a)
        if countdown(a) &lt;= 0
            fully_grown!(a,true)
            reset!(a)
        else
            incr_countdown!(a,-1)
        end
    end
    return a
end

function agent_step!(a::AbstractAnimal, w::World)
    incr_energy!(a,-1)
    dinner = find_food(a,w)
    eat!(a, dinner, w)
    if energy(a) &lt; 0
        kill_agent!(a,w)
        return
    end
    if rand() &lt;= reproduction_prob(a)
        reproduce!(a,w)
    end
    return a
end</code></pre></p></details><h2 id="Simulate-the-world!"><a class="docs-heading-anchor" href="#Simulate-the-world!">Simulate the world!</a><a id="Simulate-the-world!-1"></a><a class="docs-heading-anchor-permalink" href="#Simulate-the-world!" title="Permalink"></a></h2><p>The last function we need for our simulation just needs to run a number of steps. In practice we often want varying logging behaviour which we can implement nicely using <em>callbacks</em>.</p><p>An exemplary callback could just log the agent count at every step:</p><pre><code class="language-julia hljs">log_count(w::World) = @info agent_count(w)</code></pre><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Implement a function <code>simulate!(w::World, iters::Int; callbacks=[])</code> which runs a number of iterations (i.e. <code>agent_step!</code>s) and applies passed callbacks of the form <code>callback(::World)</code> after each iteration.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function simulate!(w::World, iters::Int; callbacks=[])
    for i in 1:iters
        for a in w.agents
            agent_step!(a,w)
        end
        for cb in callbacks
            cb(w)
        end
    end
end</code></pre></p></details><p>Now lets try to run our first fully fledged simulation!  Below you can find some parameters that will often result in nice oscillations like in the plot at the beginning of the lab.</p><pre><code class="language-julia hljs">n_grass       = 500
regrowth_time = 17.0

n_sheep         = 100
Δenergy_sheep   = 5.0
sheep_reproduce = 0.5
sheep_foodprob  = 0.4

n_wolves       = 8
Δenergy_wolf   = 17.0
wolf_reproduce = 0.03
wolf_foodprob  = 0.02

gs = [Grass(true,regrowth_time,regrowth_time) for _ in 1:n_grass]
ss = [Sheep(2*Δenergy_sheep,Δenergy_sheep,sheep_reproduce, sheep_foodprob) for _ in 1:n_sheep]
ws = [Wolf(2*Δenergy_wolf,Δenergy_wolf,wolf_reproduce, wolf_foodprob) for _ in 1:n_wolves]

w = World(vcat(gs,ss,ws))

# construct a global variable to store agent counts at every step
counts = Dict(n=&gt;[c] for (n,c) in agent_count(w))
# callback to save current counts
function save_agent_count(w::World)
    for (n,c) in agent_count(w)
        push!(counts[n],c)
    end
end

cbs = [
    w-&gt;(@info agent_count(w)),
    save_agent_count
]

simulate!(w, 200, callbacks=cbs)

# plot the count trajectories for every type of agent
using Plots
plt = plot()
for (n,c) in counts
    plot!(plt, c, label=&quot;$n&quot;, lw=2)
end
plt</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip540">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip540)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip541">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip540)" d="
M172.015 1486.45 L2352.76 1486.45 L2352.76 47.2441 L172.015 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip542">
    <rect x="172" y="47" width="2182" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  223.447,1486.45 223.447,47.2441 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  737.773,1486.45 737.773,47.2441 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1252.1,1486.45 1252.1,47.2441 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1766.42,1486.45 1766.42,47.2441 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2280.75,1486.45 2280.75,47.2441 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 2352.76,1486.45 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  223.447,1486.45 223.447,1467.55 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  737.773,1486.45 737.773,1467.55 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1252.1,1486.45 1252.1,1467.55 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1766.42,1486.45 1766.42,1467.55 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2280.75,1486.45 2280.75,1467.55 
  "/>
<path clip-path="url(#clip540)" d="M223.447 1515.64 Q219.836 1515.64 218.008 1519.2 Q216.202 1522.75 216.202 1529.87 Q216.202 1536.98 218.008 1540.55 Q219.836 1544.09 223.447 1544.09 Q227.082 1544.09 228.887 1540.55 Q230.716 1536.98 230.716 1529.87 Q230.716 1522.75 228.887 1519.2 Q227.082 1515.64 223.447 1515.64 M223.447 1511.93 Q229.258 1511.93 232.313 1516.54 Q235.392 1521.12 235.392 1529.87 Q235.392 1538.6 232.313 1543.21 Q229.258 1547.79 223.447 1547.79 Q217.637 1547.79 214.559 1543.21 Q211.503 1538.6 211.503 1529.87 Q211.503 1521.12 214.559 1516.54 Q217.637 1511.93 223.447 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M712.472 1512.56 L730.829 1512.56 L730.829 1516.5 L716.755 1516.5 L716.755 1524.97 Q717.773 1524.62 718.792 1524.46 Q719.81 1524.27 720.829 1524.27 Q726.616 1524.27 729.995 1527.44 Q733.375 1530.62 733.375 1536.03 Q733.375 1541.61 729.903 1544.71 Q726.431 1547.79 720.111 1547.79 Q717.935 1547.79 715.667 1547.42 Q713.421 1547.05 711.014 1546.31 L711.014 1541.61 Q713.097 1542.74 715.32 1543.3 Q717.542 1543.86 720.019 1543.86 Q724.023 1543.86 726.361 1541.75 Q728.699 1539.64 728.699 1536.03 Q728.699 1532.42 726.361 1530.31 Q724.023 1528.21 720.019 1528.21 Q718.144 1528.21 716.269 1528.62 Q714.417 1529.04 712.472 1529.92 L712.472 1512.56 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M752.588 1515.64 Q748.977 1515.64 747.148 1519.2 Q745.343 1522.75 745.343 1529.87 Q745.343 1536.98 747.148 1540.55 Q748.977 1544.09 752.588 1544.09 Q756.222 1544.09 758.028 1540.55 Q759.856 1536.98 759.856 1529.87 Q759.856 1522.75 758.028 1519.2 Q756.222 1515.64 752.588 1515.64 M752.588 1511.93 Q758.398 1511.93 761.454 1516.54 Q764.532 1521.12 764.532 1529.87 Q764.532 1538.6 761.454 1543.21 Q758.398 1547.79 752.588 1547.79 Q746.778 1547.79 743.699 1543.21 Q740.643 1538.6 740.643 1529.87 Q740.643 1521.12 743.699 1516.54 Q746.778 1511.93 752.588 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1211.71 1543.18 L1219.34 1543.18 L1219.34 1516.82 L1211.03 1518.49 L1211.03 1514.23 L1219.3 1512.56 L1223.97 1512.56 L1223.97 1543.18 L1231.61 1543.18 L1231.61 1547.12 L1211.71 1547.12 L1211.71 1543.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1251.06 1515.64 Q1247.45 1515.64 1245.62 1519.2 Q1243.81 1522.75 1243.81 1529.87 Q1243.81 1536.98 1245.62 1540.55 Q1247.45 1544.09 1251.06 1544.09 Q1254.69 1544.09 1256.5 1540.55 Q1258.33 1536.98 1258.33 1529.87 Q1258.33 1522.75 1256.5 1519.2 Q1254.69 1515.64 1251.06 1515.64 M1251.06 1511.93 Q1256.87 1511.93 1259.92 1516.54 Q1263 1521.12 1263 1529.87 Q1263 1538.6 1259.92 1543.21 Q1256.87 1547.79 1251.06 1547.79 Q1245.25 1547.79 1242.17 1543.21 Q1239.11 1538.6 1239.11 1529.87 Q1239.11 1521.12 1242.17 1516.54 Q1245.25 1511.93 1251.06 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1281.22 1515.64 Q1277.61 1515.64 1275.78 1519.2 Q1273.97 1522.75 1273.97 1529.87 Q1273.97 1536.98 1275.78 1540.55 Q1277.61 1544.09 1281.22 1544.09 Q1284.85 1544.09 1286.66 1540.55 Q1288.49 1536.98 1288.49 1529.87 Q1288.49 1522.75 1286.66 1519.2 Q1284.85 1515.64 1281.22 1515.64 M1281.22 1511.93 Q1287.03 1511.93 1290.08 1516.54 Q1293.16 1521.12 1293.16 1529.87 Q1293.16 1538.6 1290.08 1543.21 Q1287.03 1547.79 1281.22 1547.79 Q1275.41 1547.79 1272.33 1543.21 Q1269.27 1538.6 1269.27 1529.87 Q1269.27 1521.12 1272.33 1516.54 Q1275.41 1511.93 1281.22 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1726.03 1543.18 L1733.67 1543.18 L1733.67 1516.82 L1725.36 1518.49 L1725.36 1514.23 L1733.62 1512.56 L1738.3 1512.56 L1738.3 1543.18 L1745.94 1543.18 L1745.94 1547.12 L1726.03 1547.12 L1726.03 1543.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1755.43 1512.56 L1773.79 1512.56 L1773.79 1516.5 L1759.71 1516.5 L1759.71 1524.97 Q1760.73 1524.62 1761.75 1524.46 Q1762.77 1524.27 1763.79 1524.27 Q1769.57 1524.27 1772.95 1527.44 Q1776.33 1530.62 1776.33 1536.03 Q1776.33 1541.61 1772.86 1544.71 Q1769.39 1547.79 1763.07 1547.79 Q1760.89 1547.79 1758.62 1547.42 Q1756.38 1547.05 1753.97 1546.31 L1753.97 1541.61 Q1756.05 1542.74 1758.28 1543.3 Q1760.5 1543.86 1762.98 1543.86 Q1766.98 1543.86 1769.32 1541.75 Q1771.66 1539.64 1771.66 1536.03 Q1771.66 1532.42 1769.32 1530.31 Q1766.98 1528.21 1762.98 1528.21 Q1761.1 1528.21 1759.23 1528.62 Q1757.37 1529.04 1755.43 1529.92 L1755.43 1512.56 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1795.54 1515.64 Q1791.93 1515.64 1790.11 1519.2 Q1788.3 1522.75 1788.3 1529.87 Q1788.3 1536.98 1790.11 1540.55 Q1791.93 1544.09 1795.54 1544.09 Q1799.18 1544.09 1800.98 1540.55 Q1802.81 1536.98 1802.81 1529.87 Q1802.81 1522.75 1800.98 1519.2 Q1799.18 1515.64 1795.54 1515.64 M1795.54 1511.93 Q1801.35 1511.93 1804.41 1516.54 Q1807.49 1521.12 1807.49 1529.87 Q1807.49 1538.6 1804.41 1543.21 Q1801.35 1547.79 1795.54 1547.79 Q1789.73 1547.79 1786.66 1543.21 Q1783.6 1538.6 1783.6 1529.87 Q1783.6 1521.12 1786.66 1516.54 Q1789.73 1511.93 1795.54 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2244.44 1543.18 L2260.76 1543.18 L2260.76 1547.12 L2238.82 1547.12 L2238.82 1543.18 Q2241.48 1540.43 2246.06 1535.8 Q2250.67 1531.15 2251.85 1529.81 Q2254.1 1527.28 2254.97 1525.55 Q2255.88 1523.79 2255.88 1522.1 Q2255.88 1519.34 2253.93 1517.61 Q2252.01 1515.87 2248.91 1515.87 Q2246.71 1515.87 2244.26 1516.63 Q2241.83 1517.4 2239.05 1518.95 L2239.05 1514.23 Q2241.87 1513.09 2244.33 1512.51 Q2246.78 1511.93 2248.82 1511.93 Q2254.19 1511.93 2257.38 1514.62 Q2260.58 1517.31 2260.58 1521.8 Q2260.58 1523.93 2259.77 1525.85 Q2258.98 1527.74 2256.87 1530.34 Q2256.29 1531.01 2253.19 1534.23 Q2250.09 1537.42 2244.44 1543.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2280.58 1515.64 Q2276.97 1515.64 2275.14 1519.2 Q2273.33 1522.75 2273.33 1529.87 Q2273.33 1536.98 2275.14 1540.55 Q2276.97 1544.09 2280.58 1544.09 Q2284.21 1544.09 2286.02 1540.55 Q2287.85 1536.98 2287.85 1529.87 Q2287.85 1522.75 2286.02 1519.2 Q2284.21 1515.64 2280.58 1515.64 M2280.58 1511.93 Q2286.39 1511.93 2289.44 1516.54 Q2292.52 1521.12 2292.52 1529.87 Q2292.52 1538.6 2289.44 1543.21 Q2286.39 1547.79 2280.58 1547.79 Q2274.77 1547.79 2271.69 1543.21 Q2268.63 1538.6 2268.63 1529.87 Q2268.63 1521.12 2271.69 1516.54 Q2274.77 1511.93 2280.58 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2310.74 1515.64 Q2307.13 1515.64 2305.3 1519.2 Q2303.49 1522.75 2303.49 1529.87 Q2303.49 1536.98 2305.3 1540.55 Q2307.13 1544.09 2310.74 1544.09 Q2314.37 1544.09 2316.18 1540.55 Q2318.01 1536.98 2318.01 1529.87 Q2318.01 1522.75 2316.18 1519.2 Q2314.37 1515.64 2310.74 1515.64 M2310.74 1511.93 Q2316.55 1511.93 2319.6 1516.54 Q2322.68 1521.12 2322.68 1529.87 Q2322.68 1538.6 2319.6 1543.21 Q2316.55 1547.79 2310.74 1547.79 Q2304.93 1547.79 2301.85 1543.21 Q2298.79 1538.6 2298.79 1529.87 Q2298.79 1521.12 2301.85 1516.54 Q2304.93 1511.93 2310.74 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1448.35 2352.76,1448.35 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1184.71 2352.76,1184.71 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,921.075 2352.76,921.075 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,657.436 2352.76,657.436 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,393.797 2352.76,393.797 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,130.158 2352.76,130.158 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 172.015,47.2441 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1448.35 190.912,1448.35 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1184.71 190.912,1184.71 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,921.075 190.912,921.075 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,657.436 190.912,657.436 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,393.797 190.912,393.797 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,130.158 190.912,130.158 
  "/>
<path clip-path="url(#clip540)" d="M124.07 1434.15 Q120.459 1434.15 118.631 1437.72 Q116.825 1441.26 116.825 1448.39 Q116.825 1455.49 118.631 1459.06 Q120.459 1462.6 124.07 1462.6 Q127.705 1462.6 129.51 1459.06 Q131.339 1455.49 131.339 1448.39 Q131.339 1441.26 129.51 1437.72 Q127.705 1434.15 124.07 1434.15 M124.07 1430.45 Q129.881 1430.45 132.936 1435.05 Q136.015 1439.64 136.015 1448.39 Q136.015 1457.11 132.936 1461.72 Q129.881 1466.3 124.07 1466.3 Q118.26 1466.3 115.182 1461.72 Q112.126 1457.11 112.126 1448.39 Q112.126 1439.64 115.182 1435.05 Q118.26 1430.45 124.07 1430.45 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M54.5569 1198.06 L62.1958 1198.06 L62.1958 1171.69 L53.8856 1173.36 L53.8856 1169.1 L62.1495 1167.43 L66.8254 1167.43 L66.8254 1198.06 L74.4642 1198.06 L74.4642 1201.99 L54.5569 1201.99 L54.5569 1198.06 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M93.9086 1170.51 Q90.2975 1170.51 88.4688 1174.08 Q86.6632 1177.62 86.6632 1184.75 Q86.6632 1191.85 88.4688 1195.42 Q90.2975 1198.96 93.9086 1198.96 Q97.5428 1198.96 99.3483 1195.42 Q101.177 1191.85 101.177 1184.75 Q101.177 1177.62 99.3483 1174.08 Q97.5428 1170.51 93.9086 1170.51 M93.9086 1166.81 Q99.7187 1166.81 102.774 1171.41 Q105.853 1176 105.853 1184.75 Q105.853 1193.47 102.774 1198.08 Q99.7187 1202.66 93.9086 1202.66 Q88.0984 1202.66 85.0197 1198.08 Q81.9642 1193.47 81.9642 1184.75 Q81.9642 1176 85.0197 1171.41 Q88.0984 1166.81 93.9086 1166.81 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M124.07 1170.51 Q120.459 1170.51 118.631 1174.08 Q116.825 1177.62 116.825 1184.75 Q116.825 1191.85 118.631 1195.42 Q120.459 1198.96 124.07 1198.96 Q127.705 1198.96 129.51 1195.42 Q131.339 1191.85 131.339 1184.75 Q131.339 1177.62 129.51 1174.08 Q127.705 1170.51 124.07 1170.51 M124.07 1166.81 Q129.881 1166.81 132.936 1171.41 Q136.015 1176 136.015 1184.75 Q136.015 1193.47 132.936 1198.08 Q129.881 1202.66 124.07 1202.66 Q118.26 1202.66 115.182 1198.08 Q112.126 1193.47 112.126 1184.75 Q112.126 1176 115.182 1171.41 Q118.26 1166.81 124.07 1166.81 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M57.7745 934.419 L74.0939 934.419 L74.0939 938.355 L52.1495 938.355 L52.1495 934.419 Q54.8115 931.665 59.3949 927.035 Q64.0013 922.382 65.1819 921.04 Q67.4272 918.517 68.3068 916.781 Q69.2096 915.021 69.2096 913.332 Q69.2096 910.577 67.2652 908.841 Q65.3439 907.105 62.2421 907.105 Q60.043 907.105 57.5893 907.869 Q55.1588 908.633 52.381 910.183 L52.381 905.461 Q55.2051 904.327 57.6588 903.748 Q60.1124 903.17 62.1495 903.17 Q67.5198 903.17 70.7142 905.855 Q73.9087 908.54 73.9087 913.031 Q73.9087 915.16 73.0985 917.082 Q72.3115 918.98 70.205 921.572 Q69.6263 922.244 66.5245 925.461 Q63.4226 928.656 57.7745 934.419 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M93.9086 906.873 Q90.2975 906.873 88.4688 910.438 Q86.6632 913.98 86.6632 921.109 Q86.6632 928.216 88.4688 931.781 Q90.2975 935.322 93.9086 935.322 Q97.5428 935.322 99.3483 931.781 Q101.177 928.216 101.177 921.109 Q101.177 913.98 99.3483 910.438 Q97.5428 906.873 93.9086 906.873 M93.9086 903.17 Q99.7187 903.17 102.774 907.776 Q105.853 912.359 105.853 921.109 Q105.853 929.836 102.774 934.443 Q99.7187 939.026 93.9086 939.026 Q88.0984 939.026 85.0197 934.443 Q81.9642 929.836 81.9642 921.109 Q81.9642 912.359 85.0197 907.776 Q88.0984 903.17 93.9086 903.17 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M124.07 906.873 Q120.459 906.873 118.631 910.438 Q116.825 913.98 116.825 921.109 Q116.825 928.216 118.631 931.781 Q120.459 935.322 124.07 935.322 Q127.705 935.322 129.51 931.781 Q131.339 928.216 131.339 921.109 Q131.339 913.98 129.51 910.438 Q127.705 906.873 124.07 906.873 M124.07 903.17 Q129.881 903.17 132.936 907.776 Q136.015 912.359 136.015 921.109 Q136.015 929.836 132.936 934.443 Q129.881 939.026 124.07 939.026 Q118.26 939.026 115.182 934.443 Q112.126 929.836 112.126 921.109 Q112.126 912.359 115.182 907.776 Q118.26 903.17 124.07 903.17 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M67.9133 656.082 Q71.2698 656.799 73.1448 659.068 Q75.0429 661.336 75.0429 664.67 Q75.0429 669.785 71.5244 672.586 Q68.0059 675.387 61.5245 675.387 Q59.3486 675.387 57.0338 674.947 Q54.7421 674.531 52.2884 673.674 L52.2884 669.16 Q54.2328 670.295 56.5477 670.873 Q58.8625 671.452 61.3856 671.452 Q65.7837 671.452 68.0754 669.716 Q70.3902 667.98 70.3902 664.67 Q70.3902 661.614 68.2374 659.901 Q66.1078 658.165 62.2884 658.165 L58.2606 658.165 L58.2606 654.323 L62.4735 654.323 Q65.9226 654.323 67.7513 652.957 Q69.58 651.568 69.58 648.975 Q69.58 646.313 67.6819 644.901 Q65.8069 643.466 62.2884 643.466 Q60.3671 643.466 58.168 643.883 Q55.969 644.299 53.3301 645.179 L53.3301 641.012 Q55.9921 640.272 58.3069 639.901 Q60.6449 639.531 62.705 639.531 Q68.0291 639.531 71.1309 641.961 Q74.2327 644.369 74.2327 648.489 Q74.2327 651.36 72.5892 653.35 Q70.9457 655.318 67.9133 656.082 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M93.9086 643.235 Q90.2975 643.235 88.4688 646.799 Q86.6632 650.341 86.6632 657.471 Q86.6632 664.577 88.4688 668.142 Q90.2975 671.684 93.9086 671.684 Q97.5428 671.684 99.3483 668.142 Q101.177 664.577 101.177 657.471 Q101.177 650.341 99.3483 646.799 Q97.5428 643.235 93.9086 643.235 M93.9086 639.531 Q99.7187 639.531 102.774 644.137 Q105.853 648.721 105.853 657.471 Q105.853 666.197 102.774 670.804 Q99.7187 675.387 93.9086 675.387 Q88.0984 675.387 85.0197 670.804 Q81.9642 666.197 81.9642 657.471 Q81.9642 648.721 85.0197 644.137 Q88.0984 639.531 93.9086 639.531 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M124.07 643.235 Q120.459 643.235 118.631 646.799 Q116.825 650.341 116.825 657.471 Q116.825 664.577 118.631 668.142 Q120.459 671.684 124.07 671.684 Q127.705 671.684 129.51 668.142 Q131.339 664.577 131.339 657.471 Q131.339 650.341 129.51 646.799 Q127.705 643.235 124.07 643.235 M124.07 639.531 Q129.881 639.531 132.936 644.137 Q136.015 648.721 136.015 657.471 Q136.015 666.197 132.936 670.804 Q129.881 675.387 124.07 675.387 Q118.26 675.387 115.182 670.804 Q112.126 666.197 112.126 657.471 Q112.126 648.721 115.182 644.137 Q118.26 639.531 124.07 639.531 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M66.5939 380.591 L54.7884 399.04 L66.5939 399.04 L66.5939 380.591 M65.367 376.517 L71.2466 376.517 L71.2466 399.04 L76.1772 399.04 L76.1772 402.929 L71.2466 402.929 L71.2466 411.077 L66.5939 411.077 L66.5939 402.929 L50.9921 402.929 L50.9921 398.415 L65.367 376.517 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M93.9086 379.596 Q90.2975 379.596 88.4688 383.161 Q86.6632 386.702 86.6632 393.832 Q86.6632 400.938 88.4688 404.503 Q90.2975 408.045 93.9086 408.045 Q97.5428 408.045 99.3483 404.503 Q101.177 400.938 101.177 393.832 Q101.177 386.702 99.3483 383.161 Q97.5428 379.596 93.9086 379.596 M93.9086 375.892 Q99.7187 375.892 102.774 380.499 Q105.853 385.082 105.853 393.832 Q105.853 402.559 102.774 407.165 Q99.7187 411.748 93.9086 411.748 Q88.0984 411.748 85.0197 407.165 Q81.9642 402.559 81.9642 393.832 Q81.9642 385.082 85.0197 380.499 Q88.0984 375.892 93.9086 375.892 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M124.07 379.596 Q120.459 379.596 118.631 383.161 Q116.825 386.702 116.825 393.832 Q116.825 400.938 118.631 404.503 Q120.459 408.045 124.07 408.045 Q127.705 408.045 129.51 404.503 Q131.339 400.938 131.339 393.832 Q131.339 386.702 129.51 383.161 Q127.705 379.596 124.07 379.596 M124.07 375.892 Q129.881 375.892 132.936 380.499 Q136.015 385.082 136.015 393.832 Q136.015 402.559 132.936 407.165 Q129.881 411.748 124.07 411.748 Q118.26 411.748 115.182 407.165 Q112.126 402.559 112.126 393.832 Q112.126 385.082 115.182 380.499 Q118.26 375.892 124.07 375.892 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M53.793 112.878 L72.1494 112.878 L72.1494 116.814 L58.0754 116.814 L58.0754 125.286 Q59.0939 124.939 60.1124 124.777 Q61.131 124.591 62.1495 124.591 Q67.9365 124.591 71.3161 127.763 Q74.6957 130.934 74.6957 136.351 Q74.6957 141.929 71.2235 145.031 Q67.7513 148.11 61.4319 148.11 Q59.256 148.11 56.9875 147.739 Q54.7421 147.369 52.3347 146.628 L52.3347 141.929 Q54.418 143.063 56.6402 143.619 Q58.8625 144.175 61.3393 144.175 Q65.3439 144.175 67.6819 142.068 Q70.0198 139.962 70.0198 136.351 Q70.0198 132.739 67.6819 130.633 Q65.3439 128.527 61.3393 128.527 Q59.4643 128.527 57.5893 128.943 Q55.7375 129.36 53.793 130.239 L53.793 112.878 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M93.9086 115.957 Q90.2975 115.957 88.4688 119.522 Q86.6632 123.064 86.6632 130.193 Q86.6632 137.3 88.4688 140.864 Q90.2975 144.406 93.9086 144.406 Q97.5428 144.406 99.3483 140.864 Q101.177 137.3 101.177 130.193 Q101.177 123.064 99.3483 119.522 Q97.5428 115.957 93.9086 115.957 M93.9086 112.253 Q99.7187 112.253 102.774 116.86 Q105.853 121.443 105.853 130.193 Q105.853 138.92 102.774 143.526 Q99.7187 148.11 93.9086 148.11 Q88.0984 148.11 85.0197 143.526 Q81.9642 138.92 81.9642 130.193 Q81.9642 121.443 85.0197 116.86 Q88.0984 112.253 93.9086 112.253 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M124.07 115.957 Q120.459 115.957 118.631 119.522 Q116.825 123.064 116.825 130.193 Q116.825 137.3 118.631 140.864 Q120.459 144.406 124.07 144.406 Q127.705 144.406 129.51 140.864 Q131.339 137.3 131.339 130.193 Q131.339 123.064 129.51 119.522 Q127.705 115.957 124.07 115.957 M124.07 112.253 Q129.881 112.253 132.936 116.86 Q136.015 121.443 136.015 130.193 Q136.015 138.92 132.936 143.526 Q129.881 148.11 124.07 148.11 Q118.26 148.11 115.182 143.526 Q112.126 138.92 112.126 130.193 Q112.126 121.443 115.182 116.86 Q118.26 112.253 124.07 112.253 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip542)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1427.26 244.02,1427.26 254.307,1427.26 264.593,1427.26 274.88,1427.26 285.166,1427.26 295.453,1424.62 305.74,1421.99 316.026,1421.99 326.313,1421.99 
  336.599,1421.99 346.886,1421.99 357.172,1421.99 367.459,1416.72 377.745,1416.72 388.032,1416.72 398.318,1416.72 408.605,1416.72 418.891,1419.35 429.178,1421.99 
  439.464,1421.99 449.751,1427.26 460.037,1424.62 470.324,1424.62 480.61,1427.26 490.897,1427.26 501.183,1427.26 511.47,1429.9 521.756,1427.26 532.043,1424.62 
  542.329,1424.62 552.616,1424.62 562.902,1429.9 573.189,1432.53 583.475,1435.17 593.762,1435.17 604.048,1440.44 614.335,1440.44 624.621,1440.44 634.908,1443.08 
  645.194,1443.08 655.481,1443.08 665.768,1443.08 676.054,1443.08 686.341,1443.08 696.627,1445.72 706.914,1445.72 717.2,1445.72 727.487,1445.72 737.773,1445.72 
  748.06,1445.72 758.346,1445.72 768.633,1445.72 778.919,1445.72 789.206,1445.72 799.492,1445.72 809.779,1445.72 820.065,1445.72 830.352,1445.72 840.638,1445.72 
  850.925,1445.72 861.211,1445.72 871.498,1445.72 881.784,1445.72 892.071,1445.72 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#e26f46; stroke-linecap:butt; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,130.158 244.02,325.251 254.307,573.072 264.593,823.528 274.88,1055.53 285.166,1158.35 295.453,1247.99 305.74,1313.9 316.026,1342.9 326.313,1361.35 
  336.599,1366.62 346.886,1377.17 357.172,1385.08 367.459,1385.08 377.745,1390.35 388.032,1392.99 398.318,1392.99 408.605,1392.99 418.891,1395.62 429.178,1200.53 
  439.464,957.984 449.751,707.527 460.037,475.525 470.324,377.979 480.61,290.978 490.897,227.705 501.183,201.341 511.47,190.795 521.756,196.068 532.043,201.341 
  542.329,201.341 552.616,219.796 562.902,251.432 573.189,304.16 583.475,362.161 593.762,425.434 604.048,496.616 614.335,586.253 624.621,694.345 634.908,820.892 
  645.194,936.893 655.481,1026.53 665.768,1126.71 676.054,1158.35 686.341,1195.26 696.627,1205.8 706.914,1226.9 717.2,1232.17 727.487,1234.8 737.773,1245.35 
  748.06,1211.08 758.346,1179.44 768.633,1134.62 778.919,1095.08 789.206,1050.26 799.492,984.348 809.779,907.893 820.065,812.983 830.352,752.346 840.638,707.527 
  850.925,675.891 861.211,691.709 871.498,723.346 881.784,791.892 892.071,852.529 902.357,910.529 912.644,960.62 922.93,1000.17 933.217,1055.53 943.503,1100.35 
  953.79,1150.44 964.076,1160.99 974.363,1168.9 984.649,1176.8 994.936,1176.8 1005.22,1174.17 1015.51,1147.8 1025.8,1118.8 1036.08,1063.44 1046.37,1029.17 
  1056.66,1005.44 1066.94,947.439 1077.23,884.165 1087.51,847.256 1097.8,831.437 1108.09,791.892 1118.37,773.437 1128.66,757.619 1138.95,749.709 1149.23,773.437 
  1159.52,812.983 1169.81,836.71 1180.09,873.62 1190.38,905.256 1200.67,926.347 1210.95,965.893 1221.24,1002.8 1231.53,1034.44 1241.81,1044.98 1252.1,1063.44 
  1262.39,1068.71 1272.67,1047.62 1282.96,1055.53 1293.24,1060.8 1303.53,1066.08 1313.82,1042.35 1324.1,1026.53 1334.39,1037.08 1344.68,989.621 1354.96,976.439 
  1365.25,934.257 1375.54,915.802 1385.82,897.347 1396.11,894.711 1406.4,897.347 1416.68,907.893 1426.97,897.347 1437.26,910.529 1447.54,947.439 1457.83,971.166 
  1468.12,976.439 1478.4,979.075 1488.69,965.893 1498.98,976.439 1509.26,984.348 1519.55,957.984 1529.83,960.62 1540.12,944.802 1550.41,971.166 1560.69,971.166 
  1570.98,992.257 1581.27,976.439 1591.55,976.439 1601.84,981.712 1612.13,971.166 1622.41,942.166 1632.7,918.438 1642.99,915.802 1653.27,907.893 1663.56,928.984 
  1673.85,936.893 1684.13,944.802 1694.42,939.529 1704.71,952.711 1714.99,986.984 1725.28,1010.71 1735.57,1018.62 1745.85,1013.35 1756.14,1002.8 1766.42,1000.17 
  1776.71,1010.71 1787,1010.71 1797.28,1013.35 1807.57,1018.62 1817.86,1002.8 1828.14,1013.35 1838.43,1026.53 1848.72,1010.71 1859,1005.44 1869.29,992.257 
  1879.58,981.712 1889.86,994.893 1900.15,965.893 1910.44,947.439 1920.72,910.529 1931.01,921.075 1941.3,921.075 1951.58,931.62 1961.87,907.893 1972.15,899.984 
  1982.44,939.529 1992.73,942.166 2003.01,955.348 2013.3,939.529 2023.59,921.075 2033.87,934.257 2044.16,963.257 2054.45,973.802 2064.73,1008.08 2075.02,976.439 
  2085.31,986.984 2095.59,986.984 2105.88,1000.17 2116.17,1010.71 2126.45,1008.08 2136.74,989.621 2147.03,973.802 2157.31,957.984 2167.6,915.802 2177.89,913.165 
  2188.17,923.711 2198.46,923.711 2208.74,910.529 2219.03,899.984 2229.32,865.711 2239.6,857.801 2249.89,841.983 2260.18,834.074 2270.46,831.437 2280.75,841.983 
  2291.04,847.256 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#3da44d; stroke-linecap:butt; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1184.71 244.02,957.984 254.307,670.618 264.593,351.615 274.88,122.249 285.166,87.9763 295.453,151.25 305.74,280.433 316.026,464.98 326.313,712.8 
  336.599,907.893 346.886,1037.08 357.172,1147.8 367.459,1245.35 377.745,1305.99 388.032,1353.44 398.318,1387.72 408.605,1408.81 418.891,1419.35 429.178,1432.53 
  439.464,1435.17 449.751,1440.44 460.037,1443.08 470.324,1435.17 480.61,1440.44 490.897,1437.81 501.183,1435.17 511.47,1429.9 521.756,1427.26 532.043,1416.72 
  542.329,1416.72 552.616,1385.08 562.902,1363.99 573.189,1324.44 583.475,1276.99 593.762,1255.9 604.048,1213.71 614.335,1150.44 624.621,1015.98 634.908,921.075 
  645.194,818.256 655.481,820.892 665.768,815.619 676.054,865.711 686.341,926.347 696.627,1021.26 706.914,1102.99 717.2,1166.26 727.487,1205.8 737.773,1253.26 
  748.06,1279.62 758.346,1303.35 768.633,1311.26 778.919,1300.71 789.206,1300.71 799.492,1290.17 809.779,1279.62 820.065,1290.17 830.352,1271.71 840.638,1242.71 
  850.925,1189.99 861.211,1160.99 871.498,1113.53 881.784,1066.08 892.071,1008.08 902.357,1008.08 912.644,1021.26 922.93,1015.98 933.217,1010.71 943.503,1002.8 
  953.79,984.348 964.076,1052.89 974.363,1105.62 984.649,1139.89 994.936,1174.17 1005.22,1200.53 1015.51,1224.26 1025.8,1237.44 1036.08,1255.9 1046.37,1282.26 
  1056.66,1245.35 1066.94,1237.44 1077.23,1258.53 1087.51,1240.08 1097.8,1232.17 1108.09,1237.44 1118.37,1237.44 1128.66,1226.9 1138.95,1205.8 1149.23,1171.53 
  1159.52,1150.44 1169.81,1095.08 1180.09,1063.44 1190.38,1050.26 1200.67,1073.99 1210.95,1089.8 1221.24,1066.08 1231.53,1068.71 1241.81,1084.53 1252.1,1110.89 
  1262.39,1134.62 1272.67,1158.35 1282.96,1184.71 1293.24,1208.44 1303.53,1205.8 1313.82,1226.9 1324.1,1216.35 1334.39,1160.99 1344.68,1168.9 1354.96,1171.53 
  1365.25,1195.26 1375.54,1197.9 1385.82,1208.44 1396.11,1192.62 1406.4,1171.53 1416.68,1129.35 1426.97,1142.53 1437.26,1116.17 1447.54,1097.71 1457.83,1110.89 
  1468.12,1108.26 1478.4,1145.17 1488.69,1142.53 1498.98,1153.08 1509.26,1139.89 1519.55,1166.26 1529.83,1179.44 1540.12,1200.53 1550.41,1195.26 1560.69,1200.53 
  1570.98,1192.62 1581.27,1166.26 1591.55,1158.35 1601.84,1150.44 1612.13,1184.71 1622.41,1184.71 1632.7,1184.71 1642.99,1211.08 1653.27,1205.8 1663.56,1142.53 
  1673.85,1131.99 1684.13,1158.35 1694.42,1174.17 1704.71,1145.17 1714.99,1137.26 1725.28,1121.44 1735.57,1102.99 1745.85,1100.35 1756.14,1124.08 1766.42,1163.62 
  1776.71,1134.62 1787,1121.44 1797.28,1129.35 1807.57,1129.35 1817.86,1153.08 1828.14,1184.71 1838.43,1129.35 1848.72,1147.8 1859,1195.26 1869.29,1171.53 
  1879.58,1211.08 1889.86,1192.62 1900.15,1192.62 1910.44,1189.99 1920.72,1221.62 1931.01,1208.44 1941.3,1203.17 1951.58,1195.26 1961.87,1179.44 1972.15,1163.62 
  1982.44,1147.8 1992.73,1139.89 2003.01,1150.44 2013.3,1160.99 2023.59,1150.44 2033.87,1134.62 2044.16,1105.62 2054.45,1126.71 2064.73,1118.8 2075.02,1131.99 
  2085.31,1118.8 2095.59,1153.08 2105.88,1189.99 2116.17,1124.08 2126.45,1139.89 2136.74,1192.62 2147.03,1200.53 2157.31,1213.71 2167.6,1224.26 2177.89,1229.53 
  2188.17,1203.17 2198.46,1203.17 2208.74,1200.53 2219.03,1182.08 2229.32,1211.08 2239.6,1213.71 2249.89,1213.71 2260.18,1213.71 2270.46,1205.8 2280.75,1205.8 
  2291.04,1203.17 
  "/>
<path clip-path="url(#clip540)" d="
M1894.91 302.578 L2280.06 302.578 L2280.06 95.2176 L1894.91 95.2176  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1894.91,302.578 2280.06,302.578 2280.06,95.2176 1894.91,95.2176 1894.91,302.578 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,147.058 2064.53,147.058 
  "/>
<path clip-path="url(#clip540)" d="M2088.76 129.778 L2093.48 129.778 L2100.75 158.99 L2107.99 129.778 L2113.25 129.778 L2120.52 158.99 L2127.76 129.778 L2132.51 129.778 L2123.83 164.338 L2117.95 164.338 L2110.66 134.338 L2103.29 164.338 L2097.41 164.338 L2088.76 129.778 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2145.79 141.398 Q2142.37 141.398 2140.38 144.083 Q2138.39 146.745 2138.39 151.398 Q2138.39 156.051 2140.35 158.736 Q2142.34 161.398 2145.79 161.398 Q2149.2 161.398 2151.19 158.713 Q2153.18 156.027 2153.18 151.398 Q2153.18 146.791 2151.19 144.106 Q2149.2 141.398 2145.79 141.398 M2145.79 137.787 Q2151.35 137.787 2154.52 141.398 Q2157.69 145.009 2157.69 151.398 Q2157.69 157.764 2154.52 161.398 Q2151.35 165.009 2145.79 165.009 Q2140.22 165.009 2137.04 161.398 Q2133.9 157.764 2133.9 151.398 Q2133.9 145.009 2137.04 141.398 Q2140.22 137.787 2145.79 137.787 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2164.75 128.319 L2169.01 128.319 L2169.01 164.338 L2164.75 164.338 L2164.75 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2191.05 128.319 L2191.05 131.861 L2186.97 131.861 Q2184.68 131.861 2183.78 132.787 Q2182.9 133.713 2182.9 136.12 L2182.9 138.412 L2189.91 138.412 L2189.91 141.722 L2182.9 141.722 L2182.9 164.338 L2178.62 164.338 L2178.62 141.722 L2174.54 141.722 L2174.54 138.412 L2178.62 138.412 L2178.62 136.606 Q2178.62 132.278 2180.63 130.31 Q2182.65 128.319 2187.02 128.319 L2191.05 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip540)" style="stroke:#e26f46; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,198.898 2064.53,198.898 
  "/>
<path clip-path="url(#clip540)" d="M2114.31 211.247 L2114.31 201.965 L2106.67 201.965 L2106.67 198.122 L2118.94 198.122 L2118.94 212.96 Q2116.23 214.881 2112.97 215.877 Q2109.71 216.849 2106 216.849 Q2097.9 216.849 2093.32 212.127 Q2088.76 207.381 2088.76 198.932 Q2088.76 190.46 2093.32 185.738 Q2097.9 180.993 2106 180.993 Q2109.38 180.993 2112.41 181.826 Q2115.47 182.659 2118.04 184.28 L2118.04 189.256 Q2115.45 187.057 2112.53 185.946 Q2109.61 184.835 2106.4 184.835 Q2100.05 184.835 2096.86 188.377 Q2093.69 191.918 2093.69 198.932 Q2093.69 205.923 2096.86 209.465 Q2100.05 213.006 2106.4 213.006 Q2108.87 213.006 2110.82 212.59 Q2112.76 212.15 2114.31 211.247 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2142.32 194.233 Q2141.6 193.817 2140.75 193.631 Q2139.91 193.423 2138.9 193.423 Q2135.28 193.423 2133.34 195.784 Q2131.42 198.122 2131.42 202.52 L2131.42 216.178 L2127.14 216.178 L2127.14 190.252 L2131.42 190.252 L2131.42 194.28 Q2132.76 191.918 2134.91 190.784 Q2137.07 189.627 2140.15 189.627 Q2140.59 189.627 2141.12 189.696 Q2141.65 189.743 2142.3 189.858 L2142.32 194.233 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2158.57 203.145 Q2153.41 203.145 2151.42 204.326 Q2149.43 205.506 2149.43 208.354 Q2149.43 210.622 2150.91 211.965 Q2152.41 213.284 2154.98 213.284 Q2158.53 213.284 2160.65 210.784 Q2162.81 208.261 2162.81 204.094 L2162.81 203.145 L2158.57 203.145 M2167.07 201.386 L2167.07 216.178 L2162.81 216.178 L2162.81 212.242 Q2161.35 214.603 2159.17 215.738 Q2157 216.849 2153.85 216.849 Q2149.87 216.849 2147.51 214.627 Q2145.17 212.381 2145.17 208.631 Q2145.17 204.256 2148.09 202.034 Q2151.03 199.812 2156.84 199.812 L2162.81 199.812 L2162.81 199.395 Q2162.81 196.455 2160.86 194.858 Q2158.94 193.238 2155.45 193.238 Q2153.22 193.238 2151.12 193.77 Q2149.01 194.303 2147.07 195.367 L2147.07 191.432 Q2149.4 190.53 2151.6 190.09 Q2153.8 189.627 2155.89 189.627 Q2161.51 189.627 2164.29 192.543 Q2167.07 195.46 2167.07 201.386 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2192.37 191.016 L2192.37 195.043 Q2190.56 194.117 2188.62 193.655 Q2186.67 193.192 2184.59 193.192 Q2181.42 193.192 2179.82 194.164 Q2178.25 195.136 2178.25 197.08 Q2178.25 198.562 2179.38 199.418 Q2180.52 200.252 2183.94 201.016 L2185.4 201.34 Q2189.94 202.312 2191.84 204.094 Q2193.76 205.854 2193.76 209.025 Q2193.76 212.636 2190.89 214.742 Q2188.04 216.849 2183.04 216.849 Q2180.96 216.849 2178.69 216.432 Q2176.44 216.039 2173.94 215.228 L2173.94 210.83 Q2176.3 212.057 2178.59 212.682 Q2180.89 213.284 2183.13 213.284 Q2186.14 213.284 2187.76 212.266 Q2189.38 211.224 2189.38 209.349 Q2189.38 207.613 2188.2 206.687 Q2187.04 205.761 2183.09 204.904 L2181.6 204.557 Q2177.65 203.724 2175.89 202.011 Q2174.13 200.275 2174.13 197.266 Q2174.13 193.608 2176.72 191.618 Q2179.31 189.627 2184.08 189.627 Q2186.44 189.627 2188.53 189.974 Q2190.61 190.321 2192.37 191.016 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2217.07 191.016 L2217.07 195.043 Q2215.26 194.117 2213.32 193.655 Q2211.37 193.192 2209.29 193.192 Q2206.12 193.192 2204.52 194.164 Q2202.95 195.136 2202.95 197.08 Q2202.95 198.562 2204.08 199.418 Q2205.21 200.252 2208.64 201.016 L2210.1 201.34 Q2214.64 202.312 2216.53 204.094 Q2218.46 205.854 2218.46 209.025 Q2218.46 212.636 2215.59 214.742 Q2212.74 216.849 2207.74 216.849 Q2205.65 216.849 2203.39 216.432 Q2201.14 216.039 2198.64 215.228 L2198.64 210.83 Q2201 212.057 2203.29 212.682 Q2205.59 213.284 2207.83 213.284 Q2210.84 213.284 2212.46 212.266 Q2214.08 211.224 2214.08 209.349 Q2214.08 207.613 2212.9 206.687 Q2211.74 205.761 2207.78 204.904 L2206.3 204.557 Q2202.34 203.724 2200.59 202.011 Q2198.83 200.275 2198.83 197.266 Q2198.83 193.608 2201.42 191.618 Q2204.01 189.627 2208.78 189.627 Q2211.14 189.627 2213.22 189.974 Q2215.31 190.321 2217.07 191.016 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip540)" style="stroke:#3da44d; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,250.738 2064.53,250.738 
  "/>
<path clip-path="url(#clip540)" d="M2111 234.592 L2111 239.152 Q2108.34 237.879 2105.98 237.254 Q2103.62 236.629 2101.42 236.629 Q2097.6 236.629 2095.52 238.11 Q2093.46 239.592 2093.46 242.323 Q2093.46 244.615 2094.82 245.795 Q2096.21 246.953 2100.05 247.67 L2102.88 248.249 Q2108.11 249.245 2110.59 251.768 Q2113.09 254.268 2113.09 258.481 Q2113.09 263.504 2109.71 266.096 Q2106.35 268.689 2099.85 268.689 Q2097.39 268.689 2094.61 268.133 Q2091.86 267.578 2088.9 266.49 L2088.9 261.675 Q2091.74 263.272 2094.47 264.082 Q2097.21 264.893 2099.85 264.893 Q2103.85 264.893 2106.03 263.319 Q2108.2 261.744 2108.2 258.828 Q2108.2 256.282 2106.63 254.846 Q2105.08 253.411 2101.51 252.694 L2098.66 252.138 Q2093.43 251.096 2091.1 248.874 Q2088.76 246.652 2088.76 242.694 Q2088.76 238.11 2091.97 235.471 Q2095.22 232.833 2100.89 232.833 Q2103.32 232.833 2105.84 233.272 Q2108.36 233.712 2111 234.592 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2141.74 252.369 L2141.74 268.018 L2137.48 268.018 L2137.48 252.508 Q2137.48 248.828 2136.05 246.999 Q2134.61 245.17 2131.74 245.17 Q2128.29 245.17 2126.3 247.37 Q2124.31 249.569 2124.31 253.365 L2124.31 268.018 L2120.03 268.018 L2120.03 231.999 L2124.31 231.999 L2124.31 246.12 Q2125.84 243.782 2127.9 242.624 Q2129.98 241.467 2132.69 241.467 Q2137.16 241.467 2139.45 244.245 Q2141.74 246.999 2141.74 252.369 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2172.41 253.99 L2172.41 256.073 L2152.83 256.073 Q2153.11 260.471 2155.47 262.786 Q2157.85 265.078 2162.09 265.078 Q2164.54 265.078 2166.84 264.476 Q2169.15 263.874 2171.42 262.67 L2171.42 266.698 Q2169.13 267.67 2166.72 268.18 Q2164.31 268.689 2161.84 268.689 Q2155.63 268.689 2152 265.078 Q2148.39 261.467 2148.39 255.309 Q2148.39 248.944 2151.81 245.217 Q2155.26 241.467 2161.09 241.467 Q2166.33 241.467 2169.36 244.846 Q2172.41 248.203 2172.41 253.99 M2168.15 252.74 Q2168.11 249.245 2166.19 247.161 Q2164.29 245.078 2161.14 245.078 Q2157.58 245.078 2155.42 247.092 Q2153.29 249.106 2152.97 252.763 L2168.15 252.74 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2201.58 253.99 L2201.58 256.073 L2182 256.073 Q2182.28 260.471 2184.64 262.786 Q2187.02 265.078 2191.26 265.078 Q2193.71 265.078 2196 264.476 Q2198.32 263.874 2200.59 262.67 L2200.59 266.698 Q2198.29 267.67 2195.89 268.18 Q2193.48 268.689 2191 268.689 Q2184.8 268.689 2181.16 265.078 Q2177.55 261.467 2177.55 255.309 Q2177.55 248.944 2180.98 245.217 Q2184.43 241.467 2190.26 241.467 Q2195.49 241.467 2198.53 244.846 Q2201.58 248.203 2201.58 253.99 M2197.32 252.74 Q2197.28 249.245 2195.35 247.161 Q2193.46 245.078 2190.31 245.078 Q2186.74 245.078 2184.59 247.092 Q2182.46 249.106 2182.14 252.763 L2197.32 252.74 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2212.69 264.129 L2212.69 277.879 L2208.41 277.879 L2208.41 242.092 L2212.69 242.092 L2212.69 246.027 Q2214.03 243.712 2216.07 242.601 Q2218.13 241.467 2220.98 241.467 Q2225.7 241.467 2228.64 245.217 Q2231.6 248.967 2231.6 255.078 Q2231.6 261.189 2228.64 264.939 Q2225.7 268.689 2220.98 268.689 Q2218.13 268.689 2216.07 267.578 Q2214.03 266.443 2212.69 264.129 M2227.18 255.078 Q2227.18 250.379 2225.24 247.717 Q2223.32 245.032 2219.94 245.032 Q2216.56 245.032 2214.61 247.717 Q2212.69 250.379 2212.69 255.078 Q2212.69 259.777 2214.61 262.462 Q2216.56 265.124 2219.94 265.124 Q2223.32 265.124 2225.24 262.462 Q2227.18 259.777 2227.18 255.078 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<h2 id="Female-and-Male-Sheep"><a class="docs-heading-anchor" href="#Female-and-Male-Sheep">Female &amp; Male Sheep</a><a id="Female-and-Male-Sheep-1"></a><a class="docs-heading-anchor-permalink" href="#Female-and-Male-Sheep" title="Permalink"></a></h2><p>The goal of the last part of the lab is to demonstrate the <a href="lecture_03/@ref forwarding_method">forwarding method</a> by implementing a sheep that can have two different sexes and can only reproduce with another sheep of opposite sex.</p><p>This new type of sheep needs an additonal field <code>sex::Symbol</code> which can be either <code>:male</code> or <code>:female</code>. In OOP we would now simply inherit from <code>Sheep</code> and create a <code>⚥Sheep</code> with an additional field. In Julia there is no inheritance - only subtyping of abstract types. As you cannot inherit from a concrete type in Julia, we will have to create a wrapper type and forward all necessary methods. This is typically a sign of unfortunate type tree design and should be avoided, but if you want to extend a code base by an unforeseen type this forwarding of methods is a nice work-around.  Our <code>⚥Sheep</code> type will simply contain a classic <code>sheep</code> and a <code>sex</code> field</p><pre><code class="language-julia hljs">struct ⚥Sheep{T&lt;:Real} &lt;: AbstractAnimal
    sheep::Sheep{T}
    sex::Symbol
end
⚥Sheep(E,ΔE,pr,pf,sex) = ⚥Sheep(Sheep(E,ΔE,pr,pf),sex)</code></pre><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ⚥Sheep(1.0,1.0,1.0,1.0,:female)</code><code class="nohighlight hljs ansi" style="display:block;">⚥Sheep{Float64}(Sheep{Float64}(1.0, 1.0, 1.0, 1.0), :female)</code></pre><p>In our case, the methods that have to be forwarded are <code>agent_step!</code>, <code>reproduce!</code>, <code>eats</code> and <code>eat!</code>.  The custom reproduction behaviour will of course be taken care of by a <code>reproduce!</code> function that does not just forward but also contains specialized behaviour for the <code>⚥Sheep</code>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Forward the accessors <code>energy</code>, <code>energy!</code>, <code>reproduction_prob</code>, and <code>food_prob</code>, as well as our core methods <code>eats</code> and <code>eat!</code> to <code>Sheep</code>.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">energy(g::⚥Sheep) = energy(g.sheep)
energy!(g::⚥Sheep, ΔE) = energy!(g.sheep, ΔE)
reproduction_prob(g::⚥Sheep) = reproduction_prob(g.sheep)
food_prob(g::⚥Sheep) = food_prob(g.sheep)

eats(::⚥Sheep, ::Grass) = true
eats(::⚥Sheep, ::PoisonedGrass) = true
eat!(s::⚥Sheep, g::AbstractPlant, w::World) = eat!(s.sheep, g, w)</code></pre></p></details><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Implement the <code>reproduce!</code> method for the <code>⚥Sheep</code>.  Note that you first have to find another sheep of opposite sex in your <code>World</code>, and only if you can find one you can reproduce.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">mates(a::AbstractPlant, ::⚥Sheep) = false
mates(a::AbstractAnimal, ::⚥Sheep) = false
mates(g1::⚥Sheep, g2::⚥Sheep) = g1.sex != g2.sex
function find_mate(g::⚥Sheep, w::World)
    ms = filter(a-&gt;mates(a,g), w.agents)
    isempty(ms) ? nothing : sample(ms)
end

function reproduce!(s::⚥Sheep, w::World)
    m = find_mate(s,w)
    if !isnothing(m)
        energy!(s, energy(s)/2)
        # TODO: should probably mix s/m
        push!(w.agents, deepcopy(s))
    end
end</code></pre></p></details></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../lecture_02/hw/">« Homework</a><a class="docs-footer-nextpage" href="../hw/">Homework »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.6 on <span class="colophon-date" title="Monday 20 September 2021 10:45">Monday 20 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
