<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lab · Scientific Programming in Julia</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JuliaTeachingCTU.github.io/Scientific-Programming-in-Julia/lecture_03/lab/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Scientific Programming in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Scientific Programming in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Scientific Programming in Julia</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">1: Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/motivation/">Motivation</a></li><li><a class="tocitem" href="../../lecture_01/outline/">Outline</a></li><li><a class="tocitem" href="../../lecture_01/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_01/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">2: The power of Type System &amp; multiple dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_02/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_02/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_02/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">3: Design patterns</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Lab</a><ul class="internal"><li><a class="tocitem" href="#Reproduction"><span>Reproduction</span></a></li><li><a class="tocitem" href="#One-step-at-a-time"><span>One step at a time</span></a></li><li><a class="tocitem" href="#Simulate-the-world!"><span>Simulate the world!</span></a></li><li><a class="tocitem" href="#Female-and-Male-Sheep"><span>Female &amp; Male Sheep</span></a></li></ul></li><li><a class="tocitem" href="../hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">4: Packages development, environments, etc...</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_04/lab/">Lab</a></li></ul></li><li><span class="tocitem">5: Benchmarking, profiling, and performance gotchas</span></li><li><span class="tocitem">6: Language introspection</span></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">7: Macros</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_07/macros/">Macros</a></li></ul></li><li><span class="tocitem">8: Introduction to automatic differentiation</span></li><li><span class="tocitem">9: Manipulating intermediate representation</span></li><li><span class="tocitem">10: Different levels of parallel programming</span></li><li><span class="tocitem">11: Julia for GPU programming</span></li><li><span class="tocitem">12: Uncertainty propagation in ODE</span></li><li><span class="tocitem">13: Learning ODE from data</span></li><li><a class="tocitem" href="../../how_to_submit_hw/">How to submit homeworks</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">3: Design patterns</a></li><li class="is-active"><a href>Lab</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lab</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTeachingCTU/Scientific-Programming-in-Julia/blob/master/docs/src/lecture_03/lab.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Lab-3:-Predator-Prey-Agents"><a class="docs-heading-anchor" href="#Lab-3:-Predator-Prey-Agents">Lab 3: Predator-Prey Agents</a><a id="Lab-3:-Predator-Prey-Agents-1"></a><a class="docs-heading-anchor-permalink" href="#Lab-3:-Predator-Prey-Agents" title="Permalink"></a></h1><p>In this lab we will finalize our predator-prey agent simulation such that we can simulate a number of steps and get a plot like below.</p><p><img src="../pred-prey.png" alt="img"/></p><h2 id="Reproduction"><a class="docs-heading-anchor" href="#Reproduction">Reproduction</a><a id="Reproduction-1"></a><a class="docs-heading-anchor-permalink" href="#Reproduction" title="Permalink"></a></h2><p>Currently our animals can only eat. In our simulation we also want them to reproduce. We will do this by adding a <code>reproduce!</code> method to <code>AbstractAnimal</code>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Write a function <code>reproduce!</code> that takes an <code>AbstractAnimal</code> and a <code>World</code>. Reproducing will cost an animal half of its energy and then add an identical copy of the given animal to the world.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function reproduce!(a::AbstractAnimal, w::World)
    energy!(a, energy(a)/2)
    push!(w.agents, deepcopy(a))
end</code></pre></p></details><h2 id="One-step-at-a-time"><a class="docs-heading-anchor" href="#One-step-at-a-time">One step at a time</a><a id="One-step-at-a-time-1"></a><a class="docs-heading-anchor-permalink" href="#One-step-at-a-time" title="Permalink"></a></h2><p>One iteration of our simulation will be carried out by a function called <code>agent_step!(::AbstractAgent, ::World)</code>. Implement one method for <code>AbstractPlant</code>s and one for <code>AbstractAnimal</code>s.</p><p>An <code>AbstractPlant</code> will grow if it is not fully grown (i.e. decrease growth counter).  If the growth counter has reached zero, the <code>fully_grown</code> flag has to be set to <code>true</code> and the counter reset to <code>regrowth_time</code>.</p><p>An <code>AbstractAnimal</code> will loose one unit of energy in every step.  Then it will try to find food and eat. After eating, if its energy is less than zero, the animal dies.  If it is still alive, it will try to reproduce with the probablitiy <span>$p_r$</span>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Implement the function <code>agent_step!</code> with specialized methods for <code>AbstractAnimal</code>s and <code>AbstractPlant</code>s.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function agent_step!(a::AbstractPlant, w::World)
    if !fully_grown(a)
        if countdown(a) &lt;= 0
            fully_grown!(a,true)
            reset!(a)
        else
            incr_countdown!(a,-1)
        end
    end
    return a
end

function agent_step!(a::AbstractAnimal, w::World)
    incr_energy!(a,-1)
    dinner = find_food(a,w)
    eat!(a, dinner, w)
    if energy(a) &lt; 0
        kill_agent!(a,w)
        return
    end
    if rand() &lt;= reproduction_prob(a)
        reproduce!(a,w)
    end
    return a
end</code></pre></p></details><h2 id="Simulate-the-world!"><a class="docs-heading-anchor" href="#Simulate-the-world!">Simulate the world!</a><a id="Simulate-the-world!-1"></a><a class="docs-heading-anchor-permalink" href="#Simulate-the-world!" title="Permalink"></a></h2><p>The last function we need for our simulation just needs to run a number of steps. In practice we often want varying logging behaviour which we can implement nicely using <em>callbacks</em>.</p><p>An exemplary callback could just log the agent count at every step:</p><pre><code class="language-julia hljs">log_count(w::World) = @info agent_count(w)</code></pre><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Implement a function <code>simulate!(w::World, iters::Int; callbacks=[])</code> which runs a number of iterations (i.e. <code>agent_step!</code>s) and applies passed callbacks of the form <code>callback(::World)</code> after each iteration.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function simulate!(w::World, iters::Int; callbacks=[])
    for i in 1:iters
        for a in w.agents
            agent_step!(a,w)
        end
        for cb in callbacks
            cb(w)
        end
    end
end</code></pre></p></details><p>Now lets try to run our first fully fledged simulation!  Below you can find some parameters that will often result in nice oscillations like in the plot at the beginning of the lab.</p><pre><code class="language-julia hljs">n_grass       = 500
regrowth_time = 17.0

n_sheep         = 100
Δenergy_sheep   = 5.0
sheep_reproduce = 0.5
sheep_foodprob  = 0.4

n_wolves       = 8
Δenergy_wolf   = 17.0
wolf_reproduce = 0.03
wolf_foodprob  = 0.02

gs = [Grass(true,regrowth_time,regrowth_time) for _ in 1:n_grass]
ss = [Sheep(2*Δenergy_sheep,Δenergy_sheep,sheep_reproduce, sheep_foodprob) for _ in 1:n_sheep]
ws = [Wolf(2*Δenergy_wolf,Δenergy_wolf,wolf_reproduce, wolf_foodprob) for _ in 1:n_wolves]

w = World(vcat(gs,ss,ws))

# construct a global variable to store agent counts at every step
counts = Dict(n=&gt;[c] for (n,c) in agent_count(w))
# callback to save current counts
function save_agent_count(w::World)
    for (n,c) in agent_count(w)
        push!(counts[n],c)
    end
end

cbs = [
    w-&gt;(@info agent_count(w)),
    save_agent_count
]

simulate!(w, 200, callbacks=cbs)

# plot the count trajectories for every type of agent
using Plots
plt = plot()
for (n,c) in counts
    plot!(plt, c, label=&quot;$n&quot;, lw=2)
end
plt</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip680">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip680)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip681">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip680)" d="
M172.015 1486.45 L2352.76 1486.45 L2352.76 47.2441 L172.015 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip682">
    <rect x="172" y="47" width="2182" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  223.447,1486.45 223.447,47.2441 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  737.773,1486.45 737.773,47.2441 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1252.1,1486.45 1252.1,47.2441 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1766.42,1486.45 1766.42,47.2441 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2280.75,1486.45 2280.75,47.2441 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 2352.76,1486.45 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  223.447,1486.45 223.447,1467.55 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  737.773,1486.45 737.773,1467.55 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1252.1,1486.45 1252.1,1467.55 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1766.42,1486.45 1766.42,1467.55 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2280.75,1486.45 2280.75,1467.55 
  "/>
<path clip-path="url(#clip680)" d="M223.447 1515.64 Q219.836 1515.64 218.008 1519.2 Q216.202 1522.75 216.202 1529.87 Q216.202 1536.98 218.008 1540.55 Q219.836 1544.09 223.447 1544.09 Q227.082 1544.09 228.887 1540.55 Q230.716 1536.98 230.716 1529.87 Q230.716 1522.75 228.887 1519.2 Q227.082 1515.64 223.447 1515.64 M223.447 1511.93 Q229.258 1511.93 232.313 1516.54 Q235.392 1521.12 235.392 1529.87 Q235.392 1538.6 232.313 1543.21 Q229.258 1547.79 223.447 1547.79 Q217.637 1547.79 214.559 1543.21 Q211.503 1538.6 211.503 1529.87 Q211.503 1521.12 214.559 1516.54 Q217.637 1511.93 223.447 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M712.472 1512.56 L730.829 1512.56 L730.829 1516.5 L716.755 1516.5 L716.755 1524.97 Q717.773 1524.62 718.792 1524.46 Q719.81 1524.27 720.829 1524.27 Q726.616 1524.27 729.995 1527.44 Q733.375 1530.62 733.375 1536.03 Q733.375 1541.61 729.903 1544.71 Q726.431 1547.79 720.111 1547.79 Q717.935 1547.79 715.667 1547.42 Q713.421 1547.05 711.014 1546.31 L711.014 1541.61 Q713.097 1542.74 715.32 1543.3 Q717.542 1543.86 720.019 1543.86 Q724.023 1543.86 726.361 1541.75 Q728.699 1539.64 728.699 1536.03 Q728.699 1532.42 726.361 1530.31 Q724.023 1528.21 720.019 1528.21 Q718.144 1528.21 716.269 1528.62 Q714.417 1529.04 712.472 1529.92 L712.472 1512.56 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M752.588 1515.64 Q748.977 1515.64 747.148 1519.2 Q745.343 1522.75 745.343 1529.87 Q745.343 1536.98 747.148 1540.55 Q748.977 1544.09 752.588 1544.09 Q756.222 1544.09 758.028 1540.55 Q759.856 1536.98 759.856 1529.87 Q759.856 1522.75 758.028 1519.2 Q756.222 1515.64 752.588 1515.64 M752.588 1511.93 Q758.398 1511.93 761.454 1516.54 Q764.532 1521.12 764.532 1529.87 Q764.532 1538.6 761.454 1543.21 Q758.398 1547.79 752.588 1547.79 Q746.778 1547.79 743.699 1543.21 Q740.643 1538.6 740.643 1529.87 Q740.643 1521.12 743.699 1516.54 Q746.778 1511.93 752.588 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M1211.71 1543.18 L1219.34 1543.18 L1219.34 1516.82 L1211.03 1518.49 L1211.03 1514.23 L1219.3 1512.56 L1223.97 1512.56 L1223.97 1543.18 L1231.61 1543.18 L1231.61 1547.12 L1211.71 1547.12 L1211.71 1543.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M1251.06 1515.64 Q1247.45 1515.64 1245.62 1519.2 Q1243.81 1522.75 1243.81 1529.87 Q1243.81 1536.98 1245.62 1540.55 Q1247.45 1544.09 1251.06 1544.09 Q1254.69 1544.09 1256.5 1540.55 Q1258.33 1536.98 1258.33 1529.87 Q1258.33 1522.75 1256.5 1519.2 Q1254.69 1515.64 1251.06 1515.64 M1251.06 1511.93 Q1256.87 1511.93 1259.92 1516.54 Q1263 1521.12 1263 1529.87 Q1263 1538.6 1259.92 1543.21 Q1256.87 1547.79 1251.06 1547.79 Q1245.25 1547.79 1242.17 1543.21 Q1239.11 1538.6 1239.11 1529.87 Q1239.11 1521.12 1242.17 1516.54 Q1245.25 1511.93 1251.06 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M1281.22 1515.64 Q1277.61 1515.64 1275.78 1519.2 Q1273.97 1522.75 1273.97 1529.87 Q1273.97 1536.98 1275.78 1540.55 Q1277.61 1544.09 1281.22 1544.09 Q1284.85 1544.09 1286.66 1540.55 Q1288.49 1536.98 1288.49 1529.87 Q1288.49 1522.75 1286.66 1519.2 Q1284.85 1515.64 1281.22 1515.64 M1281.22 1511.93 Q1287.03 1511.93 1290.08 1516.54 Q1293.16 1521.12 1293.16 1529.87 Q1293.16 1538.6 1290.08 1543.21 Q1287.03 1547.79 1281.22 1547.79 Q1275.41 1547.79 1272.33 1543.21 Q1269.27 1538.6 1269.27 1529.87 Q1269.27 1521.12 1272.33 1516.54 Q1275.41 1511.93 1281.22 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M1726.03 1543.18 L1733.67 1543.18 L1733.67 1516.82 L1725.36 1518.49 L1725.36 1514.23 L1733.62 1512.56 L1738.3 1512.56 L1738.3 1543.18 L1745.94 1543.18 L1745.94 1547.12 L1726.03 1547.12 L1726.03 1543.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M1755.43 1512.56 L1773.79 1512.56 L1773.79 1516.5 L1759.71 1516.5 L1759.71 1524.97 Q1760.73 1524.62 1761.75 1524.46 Q1762.77 1524.27 1763.79 1524.27 Q1769.57 1524.27 1772.95 1527.44 Q1776.33 1530.62 1776.33 1536.03 Q1776.33 1541.61 1772.86 1544.71 Q1769.39 1547.79 1763.07 1547.79 Q1760.89 1547.79 1758.62 1547.42 Q1756.38 1547.05 1753.97 1546.31 L1753.97 1541.61 Q1756.05 1542.74 1758.28 1543.3 Q1760.5 1543.86 1762.98 1543.86 Q1766.98 1543.86 1769.32 1541.75 Q1771.66 1539.64 1771.66 1536.03 Q1771.66 1532.42 1769.32 1530.31 Q1766.98 1528.21 1762.98 1528.21 Q1761.1 1528.21 1759.23 1528.62 Q1757.37 1529.04 1755.43 1529.92 L1755.43 1512.56 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M1795.54 1515.64 Q1791.93 1515.64 1790.11 1519.2 Q1788.3 1522.75 1788.3 1529.87 Q1788.3 1536.98 1790.11 1540.55 Q1791.93 1544.09 1795.54 1544.09 Q1799.18 1544.09 1800.98 1540.55 Q1802.81 1536.98 1802.81 1529.87 Q1802.81 1522.75 1800.98 1519.2 Q1799.18 1515.64 1795.54 1515.64 M1795.54 1511.93 Q1801.35 1511.93 1804.41 1516.54 Q1807.49 1521.12 1807.49 1529.87 Q1807.49 1538.6 1804.41 1543.21 Q1801.35 1547.79 1795.54 1547.79 Q1789.73 1547.79 1786.66 1543.21 Q1783.6 1538.6 1783.6 1529.87 Q1783.6 1521.12 1786.66 1516.54 Q1789.73 1511.93 1795.54 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2244.44 1543.18 L2260.76 1543.18 L2260.76 1547.12 L2238.82 1547.12 L2238.82 1543.18 Q2241.48 1540.43 2246.06 1535.8 Q2250.67 1531.15 2251.85 1529.81 Q2254.1 1527.28 2254.97 1525.55 Q2255.88 1523.79 2255.88 1522.1 Q2255.88 1519.34 2253.93 1517.61 Q2252.01 1515.87 2248.91 1515.87 Q2246.71 1515.87 2244.26 1516.63 Q2241.83 1517.4 2239.05 1518.95 L2239.05 1514.23 Q2241.87 1513.09 2244.33 1512.51 Q2246.78 1511.93 2248.82 1511.93 Q2254.19 1511.93 2257.38 1514.62 Q2260.58 1517.31 2260.58 1521.8 Q2260.58 1523.93 2259.77 1525.85 Q2258.98 1527.74 2256.87 1530.34 Q2256.29 1531.01 2253.19 1534.23 Q2250.09 1537.42 2244.44 1543.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2280.58 1515.64 Q2276.97 1515.64 2275.14 1519.2 Q2273.33 1522.75 2273.33 1529.87 Q2273.33 1536.98 2275.14 1540.55 Q2276.97 1544.09 2280.58 1544.09 Q2284.21 1544.09 2286.02 1540.55 Q2287.85 1536.98 2287.85 1529.87 Q2287.85 1522.75 2286.02 1519.2 Q2284.21 1515.64 2280.58 1515.64 M2280.58 1511.93 Q2286.39 1511.93 2289.44 1516.54 Q2292.52 1521.12 2292.52 1529.87 Q2292.52 1538.6 2289.44 1543.21 Q2286.39 1547.79 2280.58 1547.79 Q2274.77 1547.79 2271.69 1543.21 Q2268.63 1538.6 2268.63 1529.87 Q2268.63 1521.12 2271.69 1516.54 Q2274.77 1511.93 2280.58 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2310.74 1515.64 Q2307.13 1515.64 2305.3 1519.2 Q2303.49 1522.75 2303.49 1529.87 Q2303.49 1536.98 2305.3 1540.55 Q2307.13 1544.09 2310.74 1544.09 Q2314.37 1544.09 2316.18 1540.55 Q2318.01 1536.98 2318.01 1529.87 Q2318.01 1522.75 2316.18 1519.2 Q2314.37 1515.64 2310.74 1515.64 M2310.74 1511.93 Q2316.55 1511.93 2319.6 1516.54 Q2322.68 1521.12 2322.68 1529.87 Q2322.68 1538.6 2319.6 1543.21 Q2316.55 1547.79 2310.74 1547.79 Q2304.93 1547.79 2301.85 1543.21 Q2298.79 1538.6 2298.79 1529.87 Q2298.79 1521.12 2301.85 1516.54 Q2304.93 1511.93 2310.74 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1448.28 2352.76,1448.28 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1191.62 2352.76,1191.62 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,934.959 2352.76,934.959 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,678.298 2352.76,678.298 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,421.636 2352.76,421.636 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,164.975 2352.76,164.975 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 172.015,47.2441 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1448.28 190.912,1448.28 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1191.62 190.912,1191.62 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,934.959 190.912,934.959 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,678.298 190.912,678.298 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,421.636 190.912,421.636 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,164.975 190.912,164.975 
  "/>
<path clip-path="url(#clip680)" d="M124.07 1434.08 Q120.459 1434.08 118.631 1437.65 Q116.825 1441.19 116.825 1448.32 Q116.825 1455.42 118.631 1458.99 Q120.459 1462.53 124.07 1462.53 Q127.705 1462.53 129.51 1458.99 Q131.339 1455.42 131.339 1448.32 Q131.339 1441.19 129.51 1437.65 Q127.705 1434.08 124.07 1434.08 M124.07 1430.38 Q129.881 1430.38 132.936 1434.98 Q136.015 1439.57 136.015 1448.32 Q136.015 1457.04 132.936 1461.65 Q129.881 1466.23 124.07 1466.23 Q118.26 1466.23 115.182 1461.65 Q112.126 1457.04 112.126 1448.32 Q112.126 1439.57 115.182 1434.98 Q118.26 1430.38 124.07 1430.38 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M54.5569 1204.97 L62.1958 1204.97 L62.1958 1178.6 L53.8856 1180.27 L53.8856 1176.01 L62.1495 1174.34 L66.8254 1174.34 L66.8254 1204.97 L74.4642 1204.97 L74.4642 1208.9 L54.5569 1208.9 L54.5569 1204.97 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M93.9086 1177.42 Q90.2975 1177.42 88.4688 1180.98 Q86.6632 1184.53 86.6632 1191.66 Q86.6632 1198.76 88.4688 1202.33 Q90.2975 1205.87 93.9086 1205.87 Q97.5428 1205.87 99.3483 1202.33 Q101.177 1198.76 101.177 1191.66 Q101.177 1184.53 99.3483 1180.98 Q97.5428 1177.42 93.9086 1177.42 M93.9086 1173.72 Q99.7187 1173.72 102.774 1178.32 Q105.853 1182.91 105.853 1191.66 Q105.853 1200.38 102.774 1204.99 Q99.7187 1209.57 93.9086 1209.57 Q88.0984 1209.57 85.0197 1204.99 Q81.9642 1200.38 81.9642 1191.66 Q81.9642 1182.91 85.0197 1178.32 Q88.0984 1173.72 93.9086 1173.72 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M124.07 1177.42 Q120.459 1177.42 118.631 1180.98 Q116.825 1184.53 116.825 1191.66 Q116.825 1198.76 118.631 1202.33 Q120.459 1205.87 124.07 1205.87 Q127.705 1205.87 129.51 1202.33 Q131.339 1198.76 131.339 1191.66 Q131.339 1184.53 129.51 1180.98 Q127.705 1177.42 124.07 1177.42 M124.07 1173.72 Q129.881 1173.72 132.936 1178.32 Q136.015 1182.91 136.015 1191.66 Q136.015 1200.38 132.936 1204.99 Q129.881 1209.57 124.07 1209.57 Q118.26 1209.57 115.182 1204.99 Q112.126 1200.38 112.126 1191.66 Q112.126 1182.91 115.182 1178.32 Q118.26 1173.72 124.07 1173.72 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M57.7745 948.304 L74.0939 948.304 L74.0939 952.239 L52.1495 952.239 L52.1495 948.304 Q54.8115 945.549 59.3949 940.92 Q64.0013 936.267 65.1819 934.925 Q67.4272 932.401 68.3068 930.665 Q69.2096 928.906 69.2096 927.216 Q69.2096 924.462 67.2652 922.726 Q65.3439 920.989 62.2421 920.989 Q60.043 920.989 57.5893 921.753 Q55.1588 922.517 52.381 924.068 L52.381 919.346 Q55.2051 918.212 57.6588 917.633 Q60.1124 917.054 62.1495 917.054 Q67.5198 917.054 70.7142 919.739 Q73.9087 922.425 73.9087 926.915 Q73.9087 929.045 73.0985 930.966 Q72.3115 932.864 70.205 935.457 Q69.6263 936.128 66.5245 939.346 Q63.4226 942.54 57.7745 948.304 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M93.9086 920.758 Q90.2975 920.758 88.4688 924.323 Q86.6632 927.864 86.6632 934.994 Q86.6632 942.1 88.4688 945.665 Q90.2975 949.207 93.9086 949.207 Q97.5428 949.207 99.3483 945.665 Q101.177 942.1 101.177 934.994 Q101.177 927.864 99.3483 924.323 Q97.5428 920.758 93.9086 920.758 M93.9086 917.054 Q99.7187 917.054 102.774 921.661 Q105.853 926.244 105.853 934.994 Q105.853 943.721 102.774 948.327 Q99.7187 952.911 93.9086 952.911 Q88.0984 952.911 85.0197 948.327 Q81.9642 943.721 81.9642 934.994 Q81.9642 926.244 85.0197 921.661 Q88.0984 917.054 93.9086 917.054 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M124.07 920.758 Q120.459 920.758 118.631 924.323 Q116.825 927.864 116.825 934.994 Q116.825 942.1 118.631 945.665 Q120.459 949.207 124.07 949.207 Q127.705 949.207 129.51 945.665 Q131.339 942.1 131.339 934.994 Q131.339 927.864 129.51 924.323 Q127.705 920.758 124.07 920.758 M124.07 917.054 Q129.881 917.054 132.936 921.661 Q136.015 926.244 136.015 934.994 Q136.015 943.721 132.936 948.327 Q129.881 952.911 124.07 952.911 Q118.26 952.911 115.182 948.327 Q112.126 943.721 112.126 934.994 Q112.126 926.244 115.182 921.661 Q118.26 917.054 124.07 917.054 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M67.9133 676.944 Q71.2698 677.661 73.1448 679.93 Q75.0429 682.198 75.0429 685.532 Q75.0429 690.647 71.5244 693.448 Q68.0059 696.249 61.5245 696.249 Q59.3486 696.249 57.0338 695.809 Q54.7421 695.393 52.2884 694.536 L52.2884 690.022 Q54.2328 691.156 56.5477 691.735 Q58.8625 692.314 61.3856 692.314 Q65.7837 692.314 68.0754 690.578 Q70.3902 688.842 70.3902 685.532 Q70.3902 682.476 68.2374 680.763 Q66.1078 679.027 62.2884 679.027 L58.2606 679.027 L58.2606 675.184 L62.4735 675.184 Q65.9226 675.184 67.7513 673.819 Q69.58 672.43 69.58 669.837 Q69.58 667.175 67.6819 665.763 Q65.8069 664.328 62.2884 664.328 Q60.3671 664.328 58.168 664.745 Q55.969 665.161 53.3301 666.041 L53.3301 661.874 Q55.9921 661.134 58.3069 660.763 Q60.6449 660.393 62.705 660.393 Q68.0291 660.393 71.1309 662.823 Q74.2327 665.231 74.2327 669.351 Q74.2327 672.221 72.5892 674.212 Q70.9457 676.18 67.9133 676.944 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M93.9086 664.096 Q90.2975 664.096 88.4688 667.661 Q86.6632 671.203 86.6632 678.332 Q86.6632 685.439 88.4688 689.004 Q90.2975 692.545 93.9086 692.545 Q97.5428 692.545 99.3483 689.004 Q101.177 685.439 101.177 678.332 Q101.177 671.203 99.3483 667.661 Q97.5428 664.096 93.9086 664.096 M93.9086 660.393 Q99.7187 660.393 102.774 664.999 Q105.853 669.583 105.853 678.332 Q105.853 687.059 102.774 691.666 Q99.7187 696.249 93.9086 696.249 Q88.0984 696.249 85.0197 691.666 Q81.9642 687.059 81.9642 678.332 Q81.9642 669.583 85.0197 664.999 Q88.0984 660.393 93.9086 660.393 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M124.07 664.096 Q120.459 664.096 118.631 667.661 Q116.825 671.203 116.825 678.332 Q116.825 685.439 118.631 689.004 Q120.459 692.545 124.07 692.545 Q127.705 692.545 129.51 689.004 Q131.339 685.439 131.339 678.332 Q131.339 671.203 129.51 667.661 Q127.705 664.096 124.07 664.096 M124.07 660.393 Q129.881 660.393 132.936 664.999 Q136.015 669.583 136.015 678.332 Q136.015 687.059 132.936 691.666 Q129.881 696.249 124.07 696.249 Q118.26 696.249 115.182 691.666 Q112.126 687.059 112.126 678.332 Q112.126 669.583 115.182 664.999 Q118.26 660.393 124.07 660.393 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M66.5939 408.43 L54.7884 426.879 L66.5939 426.879 L66.5939 408.43 M65.367 404.356 L71.2466 404.356 L71.2466 426.879 L76.1772 426.879 L76.1772 430.768 L71.2466 430.768 L71.2466 438.916 L66.5939 438.916 L66.5939 430.768 L50.9921 430.768 L50.9921 426.254 L65.367 404.356 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M93.9086 407.435 Q90.2975 407.435 88.4688 411 Q86.6632 414.541 86.6632 421.671 Q86.6632 428.777 88.4688 432.342 Q90.2975 435.884 93.9086 435.884 Q97.5428 435.884 99.3483 432.342 Q101.177 428.777 101.177 421.671 Q101.177 414.541 99.3483 411 Q97.5428 407.435 93.9086 407.435 M93.9086 403.731 Q99.7187 403.731 102.774 408.338 Q105.853 412.921 105.853 421.671 Q105.853 430.398 102.774 435.004 Q99.7187 439.588 93.9086 439.588 Q88.0984 439.588 85.0197 435.004 Q81.9642 430.398 81.9642 421.671 Q81.9642 412.921 85.0197 408.338 Q88.0984 403.731 93.9086 403.731 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M124.07 407.435 Q120.459 407.435 118.631 411 Q116.825 414.541 116.825 421.671 Q116.825 428.777 118.631 432.342 Q120.459 435.884 124.07 435.884 Q127.705 435.884 129.51 432.342 Q131.339 428.777 131.339 421.671 Q131.339 414.541 129.51 411 Q127.705 407.435 124.07 407.435 M124.07 403.731 Q129.881 403.731 132.936 408.338 Q136.015 412.921 136.015 421.671 Q136.015 430.398 132.936 435.004 Q129.881 439.588 124.07 439.588 Q118.26 439.588 115.182 435.004 Q112.126 430.398 112.126 421.671 Q112.126 412.921 115.182 408.338 Q118.26 403.731 124.07 403.731 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M53.793 147.695 L72.1494 147.695 L72.1494 151.63 L58.0754 151.63 L58.0754 160.102 Q59.0939 159.755 60.1124 159.593 Q61.131 159.408 62.1495 159.408 Q67.9365 159.408 71.3161 162.579 Q74.6957 165.75 74.6957 171.167 Q74.6957 176.746 71.2235 179.847 Q67.7513 182.926 61.4319 182.926 Q59.256 182.926 56.9875 182.556 Q54.7421 182.185 52.3347 181.445 L52.3347 176.746 Q54.418 177.88 56.6402 178.435 Q58.8625 178.991 61.3393 178.991 Q65.3439 178.991 67.6819 176.884 Q70.0198 174.778 70.0198 171.167 Q70.0198 167.556 67.6819 165.449 Q65.3439 163.343 61.3393 163.343 Q59.4643 163.343 57.5893 163.759 Q55.7375 164.176 53.793 165.056 L53.793 147.695 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M93.9086 150.773 Q90.2975 150.773 88.4688 154.338 Q86.6632 157.88 86.6632 165.009 Q86.6632 172.116 88.4688 175.681 Q90.2975 179.222 93.9086 179.222 Q97.5428 179.222 99.3483 175.681 Q101.177 172.116 101.177 165.009 Q101.177 157.88 99.3483 154.338 Q97.5428 150.773 93.9086 150.773 M93.9086 147.07 Q99.7187 147.07 102.774 151.676 Q105.853 156.26 105.853 165.009 Q105.853 173.736 102.774 178.343 Q99.7187 182.926 93.9086 182.926 Q88.0984 182.926 85.0197 178.343 Q81.9642 173.736 81.9642 165.009 Q81.9642 156.26 85.0197 151.676 Q88.0984 147.07 93.9086 147.07 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M124.07 150.773 Q120.459 150.773 118.631 154.338 Q116.825 157.88 116.825 165.009 Q116.825 172.116 118.631 175.681 Q120.459 179.222 124.07 179.222 Q127.705 179.222 129.51 175.681 Q131.339 172.116 131.339 165.009 Q131.339 157.88 129.51 154.338 Q127.705 150.773 124.07 150.773 M124.07 147.07 Q129.881 147.07 132.936 151.676 Q136.015 156.26 136.015 165.009 Q136.015 173.736 132.936 178.343 Q129.881 182.926 124.07 182.926 Q118.26 182.926 115.182 178.343 Q112.126 173.736 112.126 165.009 Q112.126 156.26 115.182 151.676 Q118.26 147.07 124.07 147.07 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip682)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1427.75 244.02,1427.75 254.307,1427.75 264.593,1427.75 274.88,1427.75 285.166,1427.75 295.453,1427.75 305.74,1427.75 316.026,1427.75 326.313,1427.75 
  336.599,1427.75 346.886,1425.18 357.172,1422.62 367.459,1422.62 377.745,1420.05 388.032,1420.05 398.318,1420.05 408.605,1420.05 418.891,1420.05 429.178,1420.05 
  439.464,1420.05 449.751,1420.05 460.037,1420.05 470.324,1420.05 480.61,1422.62 490.897,1425.18 501.183,1427.75 511.47,1427.75 521.756,1430.32 532.043,1430.32 
  542.329,1430.32 552.616,1430.32 562.902,1427.75 573.189,1425.18 583.475,1427.75 593.762,1430.32 604.048,1435.45 614.335,1432.88 624.621,1430.32 634.908,1430.32 
  645.194,1430.32 655.481,1430.32 665.768,1430.32 676.054,1430.32 686.341,1427.75 696.627,1427.75 706.914,1427.75 717.2,1430.32 727.487,1430.32 737.773,1430.32 
  748.06,1427.75 758.346,1427.75 768.633,1427.75 778.919,1427.75 789.206,1435.45 799.492,1435.45 809.779,1438.02 820.065,1438.02 830.352,1438.02 840.638,1435.45 
  850.925,1432.88 861.211,1432.88 871.498,1438.02 881.784,1438.02 892.071,1438.02 902.357,1440.58 912.644,1440.58 922.93,1440.58 933.217,1443.15 943.503,1443.15 
  953.79,1443.15 964.076,1443.15 974.363,1443.15 984.649,1445.72 994.936,1445.72 1005.22,1445.72 1015.51,1445.72 1025.8,1445.72 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#e26f46; stroke-linecap:butt; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,164.975 244.02,334.371 254.307,575.633 264.593,845.128 274.88,1063.29 285.166,1212.15 295.453,1296.85 305.74,1337.92 316.026,1363.58 326.313,1378.98 
  336.599,1394.38 346.886,1394.38 357.172,1399.52 367.459,1407.22 377.745,1409.78 388.032,1409.78 398.318,1409.78 408.605,1412.35 418.891,1412.35 429.178,1245.52 
  439.464,1004.26 449.751,739.897 460.037,534.567 470.324,393.403 480.61,324.105 490.897,308.705 501.183,367.737 511.47,421.636 521.756,478.102 532.043,570.5 
  542.329,650.065 552.616,760.429 562.902,837.428 573.189,950.359 583.475,1037.62 593.762,1088.96 604.048,1130.02 614.335,1163.39 624.621,1204.45 634.908,1237.82 
  645.194,1242.95 655.481,1240.39 665.768,1245.52 676.054,1224.99 686.341,1142.86 696.627,1078.69 706.914,1009.39 717.2,932.393 727.487,855.394 737.773,747.596 
  748.06,683.431 758.346,591.033 768.633,542.267 778.919,524.301 789.206,526.867 799.492,567.933 809.779,591.033 820.065,642.365 830.352,719.364 840.638,834.861 
  850.925,901.593 861.211,983.725 871.498,1050.46 881.784,1132.59 892.071,1183.92 902.357,1207.02 912.644,1222.42 922.93,1248.09 933.217,1248.09 943.503,1232.69 
  953.79,1222.42 964.076,1196.75 974.363,1155.69 984.649,1096.66 994.936,1045.32 1005.22,978.592 1015.51,899.027 1025.8,793.795 1036.08,739.897 1046.37,673.165 
  1056.66,639.799 1066.94,596.166 1077.23,616.699 1087.51,644.932 1097.8,688.564 1108.09,727.063 1118.37,819.462 1128.66,909.293 1138.95,950.359 1149.23,999.125 
  1159.52,1063.29 1169.81,1088.96 1180.09,1135.16 1190.38,1150.55 1200.67,1165.95 1210.95,1183.92 1221.24,1178.79 1231.53,1178.79 1241.81,1160.82 1252.1,1130.02 
  1262.39,1083.82 1272.67,1029.92 1282.96,978.592 1293.24,924.693 1303.53,860.527 1313.82,798.929 1324.1,773.263 1334.39,760.429 1344.68,750.163 1354.96,768.129 
  1365.25,791.229 1375.54,822.028 1385.82,873.361 1396.11,924.693 1406.4,981.158 1416.68,1040.19 1426.97,1070.99 1437.26,1119.76 1447.54,1137.72 1457.83,1173.65 
  1468.12,1196.75 1478.4,1209.59 1488.69,1191.62 1498.98,1173.65 1509.26,1142.86 1519.55,1127.46 1529.83,1086.39 1540.12,1065.86 1550.41,1009.39 1560.69,958.059 
  1570.98,906.727 1581.27,852.828 1591.55,798.929 1601.84,768.129 1612.13,765.563 1622.41,773.263 1632.7,778.396 1642.99,822.028 1653.27,837.428 1663.56,904.16 
  1673.85,934.959 1684.13,996.558 1694.42,1060.72 1704.71,1091.52 1714.99,1132.59 1725.28,1145.42 1735.57,1165.95 1745.85,1173.65 1756.14,1155.69 1766.42,1145.42 
  1776.71,1130.02 1787,1099.22 1797.28,1068.42 1807.57,1024.79 1817.86,993.991 1828.14,904.16 1838.43,855.394 1848.72,778.396 1859,737.33 1869.29,678.298 
  1879.58,614.132 1889.86,580.766 1900.15,575.633 1910.44,565.367 1920.72,583.333 1931.01,621.832 1941.3,673.165 1951.58,760.429 1961.87,839.995 1972.15,899.027 
  1982.44,970.892 1992.73,1011.96 2003.01,1053.02 2013.3,1099.22 2023.59,1145.42 2033.87,1153.12 2044.16,1176.22 2054.45,1201.89 2064.73,1214.72 2075.02,1207.02 
  2085.31,1181.35 2095.59,1155.69 2105.88,1109.49 2116.17,1058.16 2126.45,1014.52 2136.74,916.993 2147.03,847.694 2157.31,791.229 2167.6,732.197 2177.89,711.664 
  2188.17,703.964 2198.46,701.397 2208.74,727.063 2219.03,750.163 2229.32,770.696 2239.6,796.362 2249.89,842.561 2260.18,875.927 2270.46,937.526 2280.75,988.858 
  2291.04,1024.79 
  "/>
<polyline clip-path="url(#clip682)" style="stroke:#3da44d; stroke-linecap:butt; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1191.62 244.02,965.759 254.307,637.232 264.593,298.439 274.88,87.9763 285.166,118.776 295.453,164.975 305.74,303.572 316.026,508.901 326.313,742.463 
  336.599,922.126 346.886,1078.69 357.172,1178.79 367.459,1237.82 377.745,1291.72 388.032,1348.18 398.318,1391.82 408.605,1417.48 418.891,1430.32 429.178,1427.75 
  439.464,1438.02 449.751,1432.88 460.037,1430.32 470.324,1427.75 480.61,1409.78 490.897,1376.42 501.183,1294.29 511.47,1242.95 521.756,1173.65 532.043,1127.46 
  542.329,1099.22 552.616,1009.39 562.902,963.192 573.189,899.027 583.475,904.16 593.762,911.86 604.048,929.826 614.335,1009.39 624.621,1068.42 634.908,1088.96 
  645.194,1135.16 655.481,1194.19 665.768,1240.39 676.054,1294.29 686.341,1332.78 696.627,1368.72 706.914,1396.95 717.2,1396.95 727.487,1407.22 737.773,1407.22 
  748.06,1381.55 758.346,1371.28 768.633,1353.32 778.919,1322.52 789.206,1281.45 799.492,1237.82 809.779,1181.35 820.065,1142.86 830.352,1086.39 840.638,988.858 
  850.925,973.459 861.211,919.56 871.498,881.06 881.784,850.261 892.071,927.259 902.357,1029.92 912.644,1078.69 922.93,1088.96 933.217,1140.29 943.503,1217.29 
  953.79,1253.22 964.076,1301.99 974.363,1327.65 984.649,1332.78 994.936,1353.32 1005.22,1340.48 1015.51,1348.18 1025.8,1348.18 1036.08,1337.92 1046.37,1343.05 
  1056.66,1312.25 1066.94,1294.29 1077.23,1214.72 1087.51,1165.95 1097.8,1135.16 1108.09,1101.79 1118.37,1011.96 1128.66,976.025 1138.95,996.558 1149.23,1011.96 
  1159.52,1004.26 1169.81,1032.49 1180.09,1040.19 1190.38,1070.99 1200.67,1130.02 1210.95,1158.25 1221.24,1183.92 1231.53,1230.12 1241.81,1255.79 1252.1,1284.02 
  1262.39,1291.72 1272.67,1281.45 1282.96,1322.52 1293.24,1322.52 1303.53,1301.99 1313.82,1291.72 1324.1,1286.59 1334.39,1255.79 1344.68,1232.69 1354.96,1191.62 
  1365.25,1137.72 1375.54,1099.22 1385.82,1073.56 1396.11,993.991 1406.4,978.592 1416.68,960.625 1426.97,978.592 1437.26,1011.96 1447.54,1042.76 1457.83,1099.22 
  1468.12,1114.62 1478.4,1142.86 1488.69,1194.19 1498.98,1224.99 1509.26,1235.25 1519.55,1253.22 1529.83,1276.32 1540.12,1273.75 1550.41,1281.45 1560.69,1289.15 
  1570.98,1276.32 1581.27,1266.05 1591.55,1263.49 1601.84,1232.69 1612.13,1240.39 1622.41,1209.59 1632.7,1178.79 1642.99,1130.02 1653.27,1127.46 1663.56,1060.72 
  1673.85,1055.59 1684.13,1042.76 1694.42,1006.82 1704.71,986.292 1714.99,1004.26 1725.28,1076.12 1735.57,1078.69 1745.85,1124.89 1756.14,1145.42 1766.42,1189.05 
  1776.71,1219.85 1787,1271.19 1797.28,1312.25 1807.57,1314.82 1817.86,1304.55 1828.14,1330.22 1838.43,1358.45 1848.72,1358.45 1859,1353.32 1869.29,1368.72 
  1879.58,1368.72 1889.86,1361.02 1900.15,1327.65 1910.44,1278.89 1920.72,1219.85 1931.01,1209.59 1941.3,1155.69 1951.58,1104.36 1961.87,1011.96 1972.15,927.259 
  1982.44,945.226 1992.73,973.459 2003.01,996.558 2013.3,1019.66 2023.59,1032.49 2033.87,1042.76 2044.16,1081.26 2054.45,1124.89 2064.73,1171.09 2075.02,1204.45 
  2085.31,1250.65 2095.59,1271.19 2105.88,1268.62 2116.17,1289.15 2126.45,1322.52 2136.74,1337.92 2147.03,1317.38 2157.31,1327.65 2167.6,1312.25 2177.89,1291.72 
  2188.17,1276.32 2198.46,1250.65 2208.74,1201.89 2219.03,1176.22 2229.32,1163.39 2239.6,1127.46 2249.89,1094.09 2260.18,1058.16 2270.46,1047.89 2280.75,1009.39 
  2291.04,1027.36 
  "/>
<path clip-path="url(#clip680)" d="
M1894.91 302.578 L2280.06 302.578 L2280.06 95.2176 L1894.91 95.2176  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip680)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1894.91,302.578 2280.06,302.578 2280.06,95.2176 1894.91,95.2176 1894.91,302.578 
  "/>
<polyline clip-path="url(#clip680)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,147.058 2064.53,147.058 
  "/>
<path clip-path="url(#clip680)" d="M2088.76 129.778 L2093.48 129.778 L2100.75 158.99 L2107.99 129.778 L2113.25 129.778 L2120.52 158.99 L2127.76 129.778 L2132.51 129.778 L2123.83 164.338 L2117.95 164.338 L2110.66 134.338 L2103.29 164.338 L2097.41 164.338 L2088.76 129.778 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2145.79 141.398 Q2142.37 141.398 2140.38 144.083 Q2138.39 146.745 2138.39 151.398 Q2138.39 156.051 2140.35 158.736 Q2142.34 161.398 2145.79 161.398 Q2149.2 161.398 2151.19 158.713 Q2153.18 156.027 2153.18 151.398 Q2153.18 146.791 2151.19 144.106 Q2149.2 141.398 2145.79 141.398 M2145.79 137.787 Q2151.35 137.787 2154.52 141.398 Q2157.69 145.009 2157.69 151.398 Q2157.69 157.764 2154.52 161.398 Q2151.35 165.009 2145.79 165.009 Q2140.22 165.009 2137.04 161.398 Q2133.9 157.764 2133.9 151.398 Q2133.9 145.009 2137.04 141.398 Q2140.22 137.787 2145.79 137.787 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2164.75 128.319 L2169.01 128.319 L2169.01 164.338 L2164.75 164.338 L2164.75 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2191.05 128.319 L2191.05 131.861 L2186.97 131.861 Q2184.68 131.861 2183.78 132.787 Q2182.9 133.713 2182.9 136.12 L2182.9 138.412 L2189.91 138.412 L2189.91 141.722 L2182.9 141.722 L2182.9 164.338 L2178.62 164.338 L2178.62 141.722 L2174.54 141.722 L2174.54 138.412 L2178.62 138.412 L2178.62 136.606 Q2178.62 132.278 2180.63 130.31 Q2182.65 128.319 2187.02 128.319 L2191.05 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip680)" style="stroke:#e26f46; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,198.898 2064.53,198.898 
  "/>
<path clip-path="url(#clip680)" d="M2114.31 211.247 L2114.31 201.965 L2106.67 201.965 L2106.67 198.122 L2118.94 198.122 L2118.94 212.96 Q2116.23 214.881 2112.97 215.877 Q2109.71 216.849 2106 216.849 Q2097.9 216.849 2093.32 212.127 Q2088.76 207.381 2088.76 198.932 Q2088.76 190.46 2093.32 185.738 Q2097.9 180.993 2106 180.993 Q2109.38 180.993 2112.41 181.826 Q2115.47 182.659 2118.04 184.28 L2118.04 189.256 Q2115.45 187.057 2112.53 185.946 Q2109.61 184.835 2106.4 184.835 Q2100.05 184.835 2096.86 188.377 Q2093.69 191.918 2093.69 198.932 Q2093.69 205.923 2096.86 209.465 Q2100.05 213.006 2106.4 213.006 Q2108.87 213.006 2110.82 212.59 Q2112.76 212.15 2114.31 211.247 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2142.32 194.233 Q2141.6 193.817 2140.75 193.631 Q2139.91 193.423 2138.9 193.423 Q2135.28 193.423 2133.34 195.784 Q2131.42 198.122 2131.42 202.52 L2131.42 216.178 L2127.14 216.178 L2127.14 190.252 L2131.42 190.252 L2131.42 194.28 Q2132.76 191.918 2134.91 190.784 Q2137.07 189.627 2140.15 189.627 Q2140.59 189.627 2141.12 189.696 Q2141.65 189.743 2142.3 189.858 L2142.32 194.233 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2158.57 203.145 Q2153.41 203.145 2151.42 204.326 Q2149.43 205.506 2149.43 208.354 Q2149.43 210.622 2150.91 211.965 Q2152.41 213.284 2154.98 213.284 Q2158.53 213.284 2160.65 210.784 Q2162.81 208.261 2162.81 204.094 L2162.81 203.145 L2158.57 203.145 M2167.07 201.386 L2167.07 216.178 L2162.81 216.178 L2162.81 212.242 Q2161.35 214.603 2159.17 215.738 Q2157 216.849 2153.85 216.849 Q2149.87 216.849 2147.51 214.627 Q2145.17 212.381 2145.17 208.631 Q2145.17 204.256 2148.09 202.034 Q2151.03 199.812 2156.84 199.812 L2162.81 199.812 L2162.81 199.395 Q2162.81 196.455 2160.86 194.858 Q2158.94 193.238 2155.45 193.238 Q2153.22 193.238 2151.12 193.77 Q2149.01 194.303 2147.07 195.367 L2147.07 191.432 Q2149.4 190.53 2151.6 190.09 Q2153.8 189.627 2155.89 189.627 Q2161.51 189.627 2164.29 192.543 Q2167.07 195.46 2167.07 201.386 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2192.37 191.016 L2192.37 195.043 Q2190.56 194.117 2188.62 193.655 Q2186.67 193.192 2184.59 193.192 Q2181.42 193.192 2179.82 194.164 Q2178.25 195.136 2178.25 197.08 Q2178.25 198.562 2179.38 199.418 Q2180.52 200.252 2183.94 201.016 L2185.4 201.34 Q2189.94 202.312 2191.84 204.094 Q2193.76 205.854 2193.76 209.025 Q2193.76 212.636 2190.89 214.742 Q2188.04 216.849 2183.04 216.849 Q2180.96 216.849 2178.69 216.432 Q2176.44 216.039 2173.94 215.228 L2173.94 210.83 Q2176.3 212.057 2178.59 212.682 Q2180.89 213.284 2183.13 213.284 Q2186.14 213.284 2187.76 212.266 Q2189.38 211.224 2189.38 209.349 Q2189.38 207.613 2188.2 206.687 Q2187.04 205.761 2183.09 204.904 L2181.6 204.557 Q2177.65 203.724 2175.89 202.011 Q2174.13 200.275 2174.13 197.266 Q2174.13 193.608 2176.72 191.618 Q2179.31 189.627 2184.08 189.627 Q2186.44 189.627 2188.53 189.974 Q2190.61 190.321 2192.37 191.016 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2217.07 191.016 L2217.07 195.043 Q2215.26 194.117 2213.32 193.655 Q2211.37 193.192 2209.29 193.192 Q2206.12 193.192 2204.52 194.164 Q2202.95 195.136 2202.95 197.08 Q2202.95 198.562 2204.08 199.418 Q2205.21 200.252 2208.64 201.016 L2210.1 201.34 Q2214.64 202.312 2216.53 204.094 Q2218.46 205.854 2218.46 209.025 Q2218.46 212.636 2215.59 214.742 Q2212.74 216.849 2207.74 216.849 Q2205.65 216.849 2203.39 216.432 Q2201.14 216.039 2198.64 215.228 L2198.64 210.83 Q2201 212.057 2203.29 212.682 Q2205.59 213.284 2207.83 213.284 Q2210.84 213.284 2212.46 212.266 Q2214.08 211.224 2214.08 209.349 Q2214.08 207.613 2212.9 206.687 Q2211.74 205.761 2207.78 204.904 L2206.3 204.557 Q2202.34 203.724 2200.59 202.011 Q2198.83 200.275 2198.83 197.266 Q2198.83 193.608 2201.42 191.618 Q2204.01 189.627 2208.78 189.627 Q2211.14 189.627 2213.22 189.974 Q2215.31 190.321 2217.07 191.016 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip680)" style="stroke:#3da44d; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,250.738 2064.53,250.738 
  "/>
<path clip-path="url(#clip680)" d="M2111 234.592 L2111 239.152 Q2108.34 237.879 2105.98 237.254 Q2103.62 236.629 2101.42 236.629 Q2097.6 236.629 2095.52 238.11 Q2093.46 239.592 2093.46 242.323 Q2093.46 244.615 2094.82 245.795 Q2096.21 246.953 2100.05 247.67 L2102.88 248.249 Q2108.11 249.245 2110.59 251.768 Q2113.09 254.268 2113.09 258.481 Q2113.09 263.504 2109.71 266.096 Q2106.35 268.689 2099.85 268.689 Q2097.39 268.689 2094.61 268.133 Q2091.86 267.578 2088.9 266.49 L2088.9 261.675 Q2091.74 263.272 2094.47 264.082 Q2097.21 264.893 2099.85 264.893 Q2103.85 264.893 2106.03 263.319 Q2108.2 261.744 2108.2 258.828 Q2108.2 256.282 2106.63 254.846 Q2105.08 253.411 2101.51 252.694 L2098.66 252.138 Q2093.43 251.096 2091.1 248.874 Q2088.76 246.652 2088.76 242.694 Q2088.76 238.11 2091.97 235.471 Q2095.22 232.833 2100.89 232.833 Q2103.32 232.833 2105.84 233.272 Q2108.36 233.712 2111 234.592 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2141.74 252.369 L2141.74 268.018 L2137.48 268.018 L2137.48 252.508 Q2137.48 248.828 2136.05 246.999 Q2134.61 245.17 2131.74 245.17 Q2128.29 245.17 2126.3 247.37 Q2124.31 249.569 2124.31 253.365 L2124.31 268.018 L2120.03 268.018 L2120.03 231.999 L2124.31 231.999 L2124.31 246.12 Q2125.84 243.782 2127.9 242.624 Q2129.98 241.467 2132.69 241.467 Q2137.16 241.467 2139.45 244.245 Q2141.74 246.999 2141.74 252.369 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2172.41 253.99 L2172.41 256.073 L2152.83 256.073 Q2153.11 260.471 2155.47 262.786 Q2157.85 265.078 2162.09 265.078 Q2164.54 265.078 2166.84 264.476 Q2169.15 263.874 2171.42 262.67 L2171.42 266.698 Q2169.13 267.67 2166.72 268.18 Q2164.31 268.689 2161.84 268.689 Q2155.63 268.689 2152 265.078 Q2148.39 261.467 2148.39 255.309 Q2148.39 248.944 2151.81 245.217 Q2155.26 241.467 2161.09 241.467 Q2166.33 241.467 2169.36 244.846 Q2172.41 248.203 2172.41 253.99 M2168.15 252.74 Q2168.11 249.245 2166.19 247.161 Q2164.29 245.078 2161.14 245.078 Q2157.58 245.078 2155.42 247.092 Q2153.29 249.106 2152.97 252.763 L2168.15 252.74 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2201.58 253.99 L2201.58 256.073 L2182 256.073 Q2182.28 260.471 2184.64 262.786 Q2187.02 265.078 2191.26 265.078 Q2193.71 265.078 2196 264.476 Q2198.32 263.874 2200.59 262.67 L2200.59 266.698 Q2198.29 267.67 2195.89 268.18 Q2193.48 268.689 2191 268.689 Q2184.8 268.689 2181.16 265.078 Q2177.55 261.467 2177.55 255.309 Q2177.55 248.944 2180.98 245.217 Q2184.43 241.467 2190.26 241.467 Q2195.49 241.467 2198.53 244.846 Q2201.58 248.203 2201.58 253.99 M2197.32 252.74 Q2197.28 249.245 2195.35 247.161 Q2193.46 245.078 2190.31 245.078 Q2186.74 245.078 2184.59 247.092 Q2182.46 249.106 2182.14 252.763 L2197.32 252.74 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip680)" d="M2212.69 264.129 L2212.69 277.879 L2208.41 277.879 L2208.41 242.092 L2212.69 242.092 L2212.69 246.027 Q2214.03 243.712 2216.07 242.601 Q2218.13 241.467 2220.98 241.467 Q2225.7 241.467 2228.64 245.217 Q2231.6 248.967 2231.6 255.078 Q2231.6 261.189 2228.64 264.939 Q2225.7 268.689 2220.98 268.689 Q2218.13 268.689 2216.07 267.578 Q2214.03 266.443 2212.69 264.129 M2227.18 255.078 Q2227.18 250.379 2225.24 247.717 Q2223.32 245.032 2219.94 245.032 Q2216.56 245.032 2214.61 247.717 Q2212.69 250.379 2212.69 255.078 Q2212.69 259.777 2214.61 262.462 Q2216.56 265.124 2219.94 265.124 Q2223.32 265.124 2225.24 262.462 Q2227.18 259.777 2227.18 255.078 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<h2 id="Female-and-Male-Sheep"><a class="docs-heading-anchor" href="#Female-and-Male-Sheep">Female &amp; Male Sheep</a><a id="Female-and-Male-Sheep-1"></a><a class="docs-heading-anchor-permalink" href="#Female-and-Male-Sheep" title="Permalink"></a></h2><p>The goal of the last part of the lab is to demonstrate the <a href="lecture_03/@ref forwarding_method">forwarding method</a> by implementing a sheep that can have two different sexes and can only reproduce with another sheep of opposite sex.</p><p>This new type of sheep needs an additonal field <code>sex::Symbol</code> which can be either <code>:male</code> or <code>:female</code>. In OOP we would now simply inherit from <code>Sheep</code> and create a <code>⚥Sheep</code> with an additional field. In Julia there is no inheritance - only subtyping of abstract types. As you cannot inherit from a concrete type in Julia, we will have to create a wrapper type and forward all necessary methods. This is typically a sign of unfortunate type tree design and should be avoided, but if you want to extend a code base by an unforeseen type this forwarding of methods is a nice work-around.  Our <code>⚥Sheep</code> type will simply contain a classic <code>sheep</code> and a <code>sex</code> field</p><pre><code class="language-julia hljs">struct ⚥Sheep{T&lt;:Real} &lt;: AbstractAnimal
    sheep::Sheep{T}
    sex::Symbol
end
⚥Sheep(E,ΔE,pr,pf,sex) = ⚥Sheep(Sheep(E,ΔE,pr,pf),sex)</code></pre><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ⚥Sheep(1.0,1.0,1.0,1.0,:female)</code><code class="nohighlight hljs ansi" style="display:block;">⚥Sheep{Float64}(Sheep{Float64}(1.0, 1.0, 1.0, 1.0), :female)</code></pre><p>In our case, the methods that have to be forwarded are <code>agent_step!</code>, <code>reproduce!</code>, <code>eats</code> and <code>eat!</code>.  The custom reproduction behaviour will of course be taken care of by a <code>reproduce!</code> function that does not just forward but also contains specialized behaviour for the <code>⚥Sheep</code>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Forward the accessors <code>energy</code>, <code>energy!</code>, <code>reproduction_prob</code>, and <code>food_prob</code>, as well as our core methods <code>eats</code> and <code>eat!</code> to <code>Sheep</code>.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">energy(g::⚥Sheep) = energy(g.sheep)
energy!(g::⚥Sheep, ΔE) = energy!(g.sheep, ΔE)
reproduction_prob(g::⚥Sheep) = reproduction_prob(g.sheep)
food_prob(g::⚥Sheep) = food_prob(g.sheep)

eats(::⚥Sheep, ::Grass) = true
eats(::⚥Sheep, ::PoisonedGrass) = true
eat!(s::⚥Sheep, g::AbstractPlant, w::World) = eat!(s.sheep, g, w)</code></pre></p></details><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Implement the <code>reproduce!</code> method for the <code>⚥Sheep</code>.  Note that you first have to find another sheep of opposite sex in your <code>World</code>, and only if you can find one you can reproduce.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">mates(a::AbstractPlant, ::⚥Sheep) = false
mates(a::AbstractAnimal, ::⚥Sheep) = false
mates(g1::⚥Sheep, g2::⚥Sheep) = g1.sex != g2.sex
function find_mate(g::⚥Sheep, w::World)
    ms = filter(a-&gt;mates(a,g), w.agents)
    isempty(ms) ? nothing : sample(ms)
end

function reproduce!(s::⚥Sheep, w::World)
    m = find_mate(s,w)
    if !isnothing(m)
        energy!(s, energy(s)/2)
        # TODO: should probably mix s/m
        push!(w.agents, deepcopy(s))
    end
end</code></pre></p></details></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../lecture_02/hw/">« Homework</a><a class="docs-footer-nextpage" href="../hw/">Homework »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.6 on <span class="colophon-date" title="Wednesday 22 September 2021 11:11">Wednesday 22 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
