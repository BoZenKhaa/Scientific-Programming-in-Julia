<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lab · Scientific Programming in Julia</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JuliaTeachingCTU.github.io/Scientific-Programming-in-Julia/lecture_03/lab/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Scientific Programming in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Scientific Programming in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Scientific Programming in Julia</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">1: Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/motivation/">Motivation</a></li><li><a class="tocitem" href="../../lecture_01/outline/">Outline</a></li><li><a class="tocitem" href="../../lecture_01/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_01/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">2: The power of Type System &amp; multiple dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_02/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_02/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_02/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">3: Design patterns</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Lab</a><ul class="internal"><li><a class="tocitem" href="#Reproduction"><span>Reproduction</span></a></li><li><a class="tocitem" href="#One-step-at-a-time"><span>One step at a time</span></a></li><li><a class="tocitem" href="#Simulate-the-world!"><span>Simulate the world!</span></a></li><li><a class="tocitem" href="#Female-and-Male-Sheep"><span>Female &amp; Male Sheep</span></a></li></ul></li><li><a class="tocitem" href="../hw/">Homework</a></li></ul></li><li><span class="tocitem">4: Packages development, environments, etc...</span></li><li><span class="tocitem">5: Benchmarking, profiling, and performance gotchas</span></li><li><span class="tocitem">6: Language introspection</span></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">7: Macros</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_07/macros/">Macros</a></li></ul></li><li><span class="tocitem">8: Introduction to automatic differentiation</span></li><li><span class="tocitem">9: Manipulating intermediate representation</span></li><li><span class="tocitem">10: Different levels of parallel programming</span></li><li><span class="tocitem">11: Julia for GPU programming</span></li><li><span class="tocitem">12: Uncertainty propagation in ODE</span></li><li><span class="tocitem">13: Learning ODE from data</span></li><li><a class="tocitem" href="../../how_to_submit_hw/">How to submit homeworks</a></li><li><a class="tocitem" href="../../howto/">How To ...</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">3: Design patterns</a></li><li class="is-active"><a href>Lab</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lab</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTeachingCTU/Scientific-Programming-in-Julia/blob/master/docs/src/lecture_03/lab.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Lab-3:-Predator-Prey-Agents"><a class="docs-heading-anchor" href="#Lab-3:-Predator-Prey-Agents">Lab 3: Predator-Prey Agents</a><a id="Lab-3:-Predator-Prey-Agents-1"></a><a class="docs-heading-anchor-permalink" href="#Lab-3:-Predator-Prey-Agents" title="Permalink"></a></h1><p>In this lab we will finalize our predator-prey agent simulation such that we can simulate a number of steps and get a plot like below.</p><p><img src="../pred-prey.png" alt="img"/></p><h2 id="Reproduction"><a class="docs-heading-anchor" href="#Reproduction">Reproduction</a><a id="Reproduction-1"></a><a class="docs-heading-anchor-permalink" href="#Reproduction" title="Permalink"></a></h2><p>Currently our animals can only eat. In our simulation we also want them to reproduce. We will do this by adding a <code>reproduce!</code> method to <code>AbstractAnimal</code>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Write a function <code>reproduce!</code> that takes an <code>AbstractAnimal</code> and a <code>World</code>. Reproducing will cost an animal half of its energy and then add an identical copy of the given animal to the world.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function reproduce!(a::AbstractAnimal, w::World)
    energy!(a, energy(a)/2)
    push!(w.agents, deepcopy(a))
end</code></pre></p></details><h2 id="One-step-at-a-time"><a class="docs-heading-anchor" href="#One-step-at-a-time">One step at a time</a><a id="One-step-at-a-time-1"></a><a class="docs-heading-anchor-permalink" href="#One-step-at-a-time" title="Permalink"></a></h2><p>One iteration of our simulation will be carried out by a function called <code>agent_step!(::AbstractAgent, ::World)</code>. Implement one method for <code>AbstractPlant</code>s and one for <code>AbstractAnimal</code>s.</p><p>An <code>AbstractPlant</code> will grow if it is not fully grown (i.e. decrease growth counter).  If the growth counter has reached zero, the <code>fully_grown</code> flag has to be set to <code>true</code> and the counter reset to <code>regrowth_time</code>.</p><p>An <code>AbstractAnimal</code> will loose one unit of energy in every step.  Then it will try to find food and eat. After eating, if its energy is less than zero, the animal dies.  If it is still alive, it will try to reproduce with the probablitiy <span>$p_r$</span>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Implement the function <code>agent_step!</code> with specialized methods for <code>AbstractAnimal</code>s and <code>AbstractPlant</code>s.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function agent_step!(a::AbstractPlant, w::World)
    if !fully_grown(a)
        if countdown(a) &lt;= 0
            fully_grown!(a,true)
            reset!(a)
        else
            incr_countdown!(a,-1)
        end
    end
    return a
end

function agent_step!(a::AbstractAnimal, w::World)
    incr_energy!(a,-1)
    dinner = find_food(a,w)
    eat!(a, dinner, w)
    if energy(a) &lt; 0
        kill_agent!(a,w)
        return
    end
    if rand() &lt;= reproduction_prob(a)
        reproduce!(a,w)
    end
    return a
end</code></pre></p></details><h2 id="Simulate-the-world!"><a class="docs-heading-anchor" href="#Simulate-the-world!">Simulate the world!</a><a id="Simulate-the-world!-1"></a><a class="docs-heading-anchor-permalink" href="#Simulate-the-world!" title="Permalink"></a></h2><p>The last function we need for our simulation just needs to run a number of steps. In practice we often want varying logging behaviour which we can implement nicely using <em>callbacks</em>.</p><p>An exemplary callback could just log the agent count at every step:</p><pre><code class="language-julia hljs">log_count(w::World) = @info agent_count(w)</code></pre><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Implement a function <code>simulate!(w::World, iters::Int; callbacks=[])</code> which runs a number of iterations (i.e. <code>agent_step!</code>s) and applies passed callbacks of the form <code>callback(::World)</code> after each iteration.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function simulate!(w::World, iters::Int; callbacks=[])
    for i in 1:iters
        for a in w.agents
            agent_step!(a,w)
        end
        for cb in callbacks
            cb(w)
        end
    end
end</code></pre></p></details><p>Now lets try to run our first fully fledged simulation!  Below you can find some parameters that will often result in nice oscillations like in the plot at the beginning of the lab.</p><pre><code class="language-julia hljs">n_grass       = 500
regrowth_time = 17.0

n_sheep         = 100
Δenergy_sheep   = 5.0
sheep_reproduce = 0.5
sheep_foodprob  = 0.4

n_wolves       = 8
Δenergy_wolf   = 17.0
wolf_reproduce = 0.03
wolf_foodprob  = 0.02

gs = [Grass(true,regrowth_time,regrowth_time) for _ in 1:n_grass]
ss = [Sheep(2*Δenergy_sheep,Δenergy_sheep,sheep_reproduce, sheep_foodprob) for _ in 1:n_sheep]
ws = [Wolf(2*Δenergy_wolf,Δenergy_wolf,wolf_reproduce, wolf_foodprob) for _ in 1:n_wolves]

w = World(vcat(gs,ss,ws))

# construct a global variable to store agent counts at every step
counts = Dict(n=&gt;[c] for (n,c) in agent_count(w))
# callback to save current counts
function save_agent_count(w::World)
    for (n,c) in agent_count(w)
        push!(counts[n],c)
    end
end

cbs = [
    w-&gt;(@info agent_count(w)),
    save_agent_count
]

simulate!(w, 200, callbacks=cbs)

# plot the count trajectories for every type of agent
using Plots
plt = plot()
for (n,c) in counts
    plot!(plt, c, label=&quot;$n&quot;, lw=2)
end
plt</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip460">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip460)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip461">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip460)" d="
M172.015 1486.45 L2352.76 1486.45 L2352.76 47.2441 L172.015 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip462">
    <rect x="172" y="47" width="2182" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  223.447,1486.45 223.447,47.2441 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  737.773,1486.45 737.773,47.2441 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1252.1,1486.45 1252.1,47.2441 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1766.42,1486.45 1766.42,47.2441 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2280.75,1486.45 2280.75,47.2441 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 2352.76,1486.45 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  223.447,1486.45 223.447,1467.55 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  737.773,1486.45 737.773,1467.55 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1252.1,1486.45 1252.1,1467.55 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1766.42,1486.45 1766.42,1467.55 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2280.75,1486.45 2280.75,1467.55 
  "/>
<path clip-path="url(#clip460)" d="M223.447 1515.64 Q219.836 1515.64 218.008 1519.2 Q216.202 1522.75 216.202 1529.87 Q216.202 1536.98 218.008 1540.55 Q219.836 1544.09 223.447 1544.09 Q227.082 1544.09 228.887 1540.55 Q230.716 1536.98 230.716 1529.87 Q230.716 1522.75 228.887 1519.2 Q227.082 1515.64 223.447 1515.64 M223.447 1511.93 Q229.258 1511.93 232.313 1516.54 Q235.392 1521.12 235.392 1529.87 Q235.392 1538.6 232.313 1543.21 Q229.258 1547.79 223.447 1547.79 Q217.637 1547.79 214.559 1543.21 Q211.503 1538.6 211.503 1529.87 Q211.503 1521.12 214.559 1516.54 Q217.637 1511.93 223.447 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M712.472 1512.56 L730.829 1512.56 L730.829 1516.5 L716.755 1516.5 L716.755 1524.97 Q717.773 1524.62 718.792 1524.46 Q719.81 1524.27 720.829 1524.27 Q726.616 1524.27 729.995 1527.44 Q733.375 1530.62 733.375 1536.03 Q733.375 1541.61 729.903 1544.71 Q726.431 1547.79 720.111 1547.79 Q717.935 1547.79 715.667 1547.42 Q713.421 1547.05 711.014 1546.31 L711.014 1541.61 Q713.097 1542.74 715.32 1543.3 Q717.542 1543.86 720.019 1543.86 Q724.023 1543.86 726.361 1541.75 Q728.699 1539.64 728.699 1536.03 Q728.699 1532.42 726.361 1530.31 Q724.023 1528.21 720.019 1528.21 Q718.144 1528.21 716.269 1528.62 Q714.417 1529.04 712.472 1529.92 L712.472 1512.56 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M752.588 1515.64 Q748.977 1515.64 747.148 1519.2 Q745.343 1522.75 745.343 1529.87 Q745.343 1536.98 747.148 1540.55 Q748.977 1544.09 752.588 1544.09 Q756.222 1544.09 758.028 1540.55 Q759.856 1536.98 759.856 1529.87 Q759.856 1522.75 758.028 1519.2 Q756.222 1515.64 752.588 1515.64 M752.588 1511.93 Q758.398 1511.93 761.454 1516.54 Q764.532 1521.12 764.532 1529.87 Q764.532 1538.6 761.454 1543.21 Q758.398 1547.79 752.588 1547.79 Q746.778 1547.79 743.699 1543.21 Q740.643 1538.6 740.643 1529.87 Q740.643 1521.12 743.699 1516.54 Q746.778 1511.93 752.588 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M1211.71 1543.18 L1219.34 1543.18 L1219.34 1516.82 L1211.03 1518.49 L1211.03 1514.23 L1219.3 1512.56 L1223.97 1512.56 L1223.97 1543.18 L1231.61 1543.18 L1231.61 1547.12 L1211.71 1547.12 L1211.71 1543.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M1251.06 1515.64 Q1247.45 1515.64 1245.62 1519.2 Q1243.81 1522.75 1243.81 1529.87 Q1243.81 1536.98 1245.62 1540.55 Q1247.45 1544.09 1251.06 1544.09 Q1254.69 1544.09 1256.5 1540.55 Q1258.33 1536.98 1258.33 1529.87 Q1258.33 1522.75 1256.5 1519.2 Q1254.69 1515.64 1251.06 1515.64 M1251.06 1511.93 Q1256.87 1511.93 1259.92 1516.54 Q1263 1521.12 1263 1529.87 Q1263 1538.6 1259.92 1543.21 Q1256.87 1547.79 1251.06 1547.79 Q1245.25 1547.79 1242.17 1543.21 Q1239.11 1538.6 1239.11 1529.87 Q1239.11 1521.12 1242.17 1516.54 Q1245.25 1511.93 1251.06 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M1281.22 1515.64 Q1277.61 1515.64 1275.78 1519.2 Q1273.97 1522.75 1273.97 1529.87 Q1273.97 1536.98 1275.78 1540.55 Q1277.61 1544.09 1281.22 1544.09 Q1284.85 1544.09 1286.66 1540.55 Q1288.49 1536.98 1288.49 1529.87 Q1288.49 1522.75 1286.66 1519.2 Q1284.85 1515.64 1281.22 1515.64 M1281.22 1511.93 Q1287.03 1511.93 1290.08 1516.54 Q1293.16 1521.12 1293.16 1529.87 Q1293.16 1538.6 1290.08 1543.21 Q1287.03 1547.79 1281.22 1547.79 Q1275.41 1547.79 1272.33 1543.21 Q1269.27 1538.6 1269.27 1529.87 Q1269.27 1521.12 1272.33 1516.54 Q1275.41 1511.93 1281.22 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M1726.03 1543.18 L1733.67 1543.18 L1733.67 1516.82 L1725.36 1518.49 L1725.36 1514.23 L1733.62 1512.56 L1738.3 1512.56 L1738.3 1543.18 L1745.94 1543.18 L1745.94 1547.12 L1726.03 1547.12 L1726.03 1543.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M1755.43 1512.56 L1773.79 1512.56 L1773.79 1516.5 L1759.71 1516.5 L1759.71 1524.97 Q1760.73 1524.62 1761.75 1524.46 Q1762.77 1524.27 1763.79 1524.27 Q1769.57 1524.27 1772.95 1527.44 Q1776.33 1530.62 1776.33 1536.03 Q1776.33 1541.61 1772.86 1544.71 Q1769.39 1547.79 1763.07 1547.79 Q1760.89 1547.79 1758.62 1547.42 Q1756.38 1547.05 1753.97 1546.31 L1753.97 1541.61 Q1756.05 1542.74 1758.28 1543.3 Q1760.5 1543.86 1762.98 1543.86 Q1766.98 1543.86 1769.32 1541.75 Q1771.66 1539.64 1771.66 1536.03 Q1771.66 1532.42 1769.32 1530.31 Q1766.98 1528.21 1762.98 1528.21 Q1761.1 1528.21 1759.23 1528.62 Q1757.37 1529.04 1755.43 1529.92 L1755.43 1512.56 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M1795.54 1515.64 Q1791.93 1515.64 1790.11 1519.2 Q1788.3 1522.75 1788.3 1529.87 Q1788.3 1536.98 1790.11 1540.55 Q1791.93 1544.09 1795.54 1544.09 Q1799.18 1544.09 1800.98 1540.55 Q1802.81 1536.98 1802.81 1529.87 Q1802.81 1522.75 1800.98 1519.2 Q1799.18 1515.64 1795.54 1515.64 M1795.54 1511.93 Q1801.35 1511.93 1804.41 1516.54 Q1807.49 1521.12 1807.49 1529.87 Q1807.49 1538.6 1804.41 1543.21 Q1801.35 1547.79 1795.54 1547.79 Q1789.73 1547.79 1786.66 1543.21 Q1783.6 1538.6 1783.6 1529.87 Q1783.6 1521.12 1786.66 1516.54 Q1789.73 1511.93 1795.54 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2244.44 1543.18 L2260.76 1543.18 L2260.76 1547.12 L2238.82 1547.12 L2238.82 1543.18 Q2241.48 1540.43 2246.06 1535.8 Q2250.67 1531.15 2251.85 1529.81 Q2254.1 1527.28 2254.97 1525.55 Q2255.88 1523.79 2255.88 1522.1 Q2255.88 1519.34 2253.93 1517.61 Q2252.01 1515.87 2248.91 1515.87 Q2246.71 1515.87 2244.26 1516.63 Q2241.83 1517.4 2239.05 1518.95 L2239.05 1514.23 Q2241.87 1513.09 2244.33 1512.51 Q2246.78 1511.93 2248.82 1511.93 Q2254.19 1511.93 2257.38 1514.62 Q2260.58 1517.31 2260.58 1521.8 Q2260.58 1523.93 2259.77 1525.85 Q2258.98 1527.74 2256.87 1530.34 Q2256.29 1531.01 2253.19 1534.23 Q2250.09 1537.42 2244.44 1543.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2280.58 1515.64 Q2276.97 1515.64 2275.14 1519.2 Q2273.33 1522.75 2273.33 1529.87 Q2273.33 1536.98 2275.14 1540.55 Q2276.97 1544.09 2280.58 1544.09 Q2284.21 1544.09 2286.02 1540.55 Q2287.85 1536.98 2287.85 1529.87 Q2287.85 1522.75 2286.02 1519.2 Q2284.21 1515.64 2280.58 1515.64 M2280.58 1511.93 Q2286.39 1511.93 2289.44 1516.54 Q2292.52 1521.12 2292.52 1529.87 Q2292.52 1538.6 2289.44 1543.21 Q2286.39 1547.79 2280.58 1547.79 Q2274.77 1547.79 2271.69 1543.21 Q2268.63 1538.6 2268.63 1529.87 Q2268.63 1521.12 2271.69 1516.54 Q2274.77 1511.93 2280.58 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2310.74 1515.64 Q2307.13 1515.64 2305.3 1519.2 Q2303.49 1522.75 2303.49 1529.87 Q2303.49 1536.98 2305.3 1540.55 Q2307.13 1544.09 2310.74 1544.09 Q2314.37 1544.09 2316.18 1540.55 Q2318.01 1536.98 2318.01 1529.87 Q2318.01 1522.75 2316.18 1519.2 Q2314.37 1515.64 2310.74 1515.64 M2310.74 1511.93 Q2316.55 1511.93 2319.6 1516.54 Q2322.68 1521.12 2322.68 1529.87 Q2322.68 1538.6 2319.6 1543.21 Q2316.55 1547.79 2310.74 1547.79 Q2304.93 1547.79 2301.85 1543.21 Q2298.79 1538.6 2298.79 1529.87 Q2298.79 1521.12 2301.85 1516.54 Q2304.93 1511.93 2310.74 1511.93 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1448.16 2352.76,1448.16 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1203.96 2352.76,1203.96 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,959.762 2352.76,959.762 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,715.564 2352.76,715.564 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,471.367 2352.76,471.367 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,227.169 2352.76,227.169 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 172.015,47.2441 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1448.16 190.912,1448.16 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1203.96 190.912,1203.96 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,959.762 190.912,959.762 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,715.564 190.912,715.564 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,471.367 190.912,471.367 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,227.169 190.912,227.169 
  "/>
<path clip-path="url(#clip460)" d="M124.07 1433.96 Q120.459 1433.96 118.631 1437.52 Q116.825 1441.06 116.825 1448.19 Q116.825 1455.3 118.631 1458.86 Q120.459 1462.41 124.07 1462.41 Q127.705 1462.41 129.51 1458.86 Q131.339 1455.3 131.339 1448.19 Q131.339 1441.06 129.51 1437.52 Q127.705 1433.96 124.07 1433.96 M124.07 1430.25 Q129.881 1430.25 132.936 1434.86 Q136.015 1439.44 136.015 1448.19 Q136.015 1456.92 132.936 1461.53 Q129.881 1466.11 124.07 1466.11 Q118.26 1466.11 115.182 1461.53 Q112.126 1456.92 112.126 1448.19 Q112.126 1439.44 115.182 1434.86 Q118.26 1430.25 124.07 1430.25 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M54.5569 1217.3 L62.1958 1217.3 L62.1958 1190.94 L53.8856 1192.61 L53.8856 1188.35 L62.1495 1186.68 L66.8254 1186.68 L66.8254 1217.3 L74.4642 1217.3 L74.4642 1221.24 L54.5569 1221.24 L54.5569 1217.3 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M93.9086 1189.76 Q90.2975 1189.76 88.4688 1193.32 Q86.6632 1196.87 86.6632 1203.99 Q86.6632 1211.1 88.4688 1214.67 Q90.2975 1218.21 93.9086 1218.21 Q97.5428 1218.21 99.3483 1214.67 Q101.177 1211.1 101.177 1203.99 Q101.177 1196.87 99.3483 1193.32 Q97.5428 1189.76 93.9086 1189.76 M93.9086 1186.05 Q99.7187 1186.05 102.774 1190.66 Q105.853 1195.24 105.853 1203.99 Q105.853 1212.72 102.774 1217.33 Q99.7187 1221.91 93.9086 1221.91 Q88.0984 1221.91 85.0197 1217.33 Q81.9642 1212.72 81.9642 1203.99 Q81.9642 1195.24 85.0197 1190.66 Q88.0984 1186.05 93.9086 1186.05 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M124.07 1189.76 Q120.459 1189.76 118.631 1193.32 Q116.825 1196.87 116.825 1203.99 Q116.825 1211.1 118.631 1214.67 Q120.459 1218.21 124.07 1218.21 Q127.705 1218.21 129.51 1214.67 Q131.339 1211.1 131.339 1203.99 Q131.339 1196.87 129.51 1193.32 Q127.705 1189.76 124.07 1189.76 M124.07 1186.05 Q129.881 1186.05 132.936 1190.66 Q136.015 1195.24 136.015 1203.99 Q136.015 1212.72 132.936 1217.33 Q129.881 1221.91 124.07 1221.91 Q118.26 1221.91 115.182 1217.33 Q112.126 1212.72 112.126 1203.99 Q112.126 1195.24 115.182 1190.66 Q118.26 1186.05 124.07 1186.05 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M57.7745 973.107 L74.0939 973.107 L74.0939 977.042 L52.1495 977.042 L52.1495 973.107 Q54.8115 970.352 59.3949 965.723 Q64.0013 961.07 65.1819 959.727 Q67.4272 957.204 68.3068 955.468 Q69.2096 953.709 69.2096 952.019 Q69.2096 949.265 67.2652 947.528 Q65.3439 945.792 62.2421 945.792 Q60.043 945.792 57.5893 946.556 Q55.1588 947.32 52.381 948.871 L52.381 944.149 Q55.2051 943.015 57.6588 942.436 Q60.1124 941.857 62.1495 941.857 Q67.5198 941.857 70.7142 944.542 Q73.9087 947.228 73.9087 951.718 Q73.9087 953.848 73.0985 955.769 Q72.3115 957.667 70.205 960.26 Q69.6263 960.931 66.5245 964.149 Q63.4226 967.343 57.7745 973.107 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M93.9086 945.561 Q90.2975 945.561 88.4688 949.126 Q86.6632 952.667 86.6632 959.797 Q86.6632 966.903 88.4688 970.468 Q90.2975 974.01 93.9086 974.01 Q97.5428 974.01 99.3483 970.468 Q101.177 966.903 101.177 959.797 Q101.177 952.667 99.3483 949.126 Q97.5428 945.561 93.9086 945.561 M93.9086 941.857 Q99.7187 941.857 102.774 946.464 Q105.853 951.047 105.853 959.797 Q105.853 968.524 102.774 973.13 Q99.7187 977.713 93.9086 977.713 Q88.0984 977.713 85.0197 973.13 Q81.9642 968.524 81.9642 959.797 Q81.9642 951.047 85.0197 946.464 Q88.0984 941.857 93.9086 941.857 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M124.07 945.561 Q120.459 945.561 118.631 949.126 Q116.825 952.667 116.825 959.797 Q116.825 966.903 118.631 970.468 Q120.459 974.01 124.07 974.01 Q127.705 974.01 129.51 970.468 Q131.339 966.903 131.339 959.797 Q131.339 952.667 129.51 949.126 Q127.705 945.561 124.07 945.561 M124.07 941.857 Q129.881 941.857 132.936 946.464 Q136.015 951.047 136.015 959.797 Q136.015 968.524 132.936 973.13 Q129.881 977.713 124.07 977.713 Q118.26 977.713 115.182 973.13 Q112.126 968.524 112.126 959.797 Q112.126 951.047 115.182 946.464 Q118.26 941.857 124.07 941.857 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M67.9133 714.21 Q71.2698 714.928 73.1448 717.196 Q75.0429 719.465 75.0429 722.798 Q75.0429 727.914 71.5244 730.715 Q68.0059 733.516 61.5245 733.516 Q59.3486 733.516 57.0338 733.076 Q54.7421 732.659 52.2884 731.803 L52.2884 727.289 Q54.2328 728.423 56.5477 729.002 Q58.8625 729.581 61.3856 729.581 Q65.7837 729.581 68.0754 727.844 Q70.3902 726.108 70.3902 722.798 Q70.3902 719.743 68.2374 718.03 Q66.1078 716.294 62.2884 716.294 L58.2606 716.294 L58.2606 712.451 L62.4735 712.451 Q65.9226 712.451 67.7513 711.085 Q69.58 709.696 69.58 707.104 Q69.58 704.442 67.6819 703.03 Q65.8069 701.595 62.2884 701.595 Q60.3671 701.595 58.168 702.011 Q55.969 702.428 53.3301 703.308 L53.3301 699.141 Q55.9921 698.4 58.3069 698.03 Q60.6449 697.659 62.705 697.659 Q68.0291 697.659 71.1309 700.09 Q74.2327 702.497 74.2327 706.618 Q74.2327 709.488 72.5892 711.479 Q70.9457 713.446 67.9133 714.21 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M93.9086 701.363 Q90.2975 701.363 88.4688 704.928 Q86.6632 708.47 86.6632 715.599 Q86.6632 722.706 88.4688 726.27 Q90.2975 729.812 93.9086 729.812 Q97.5428 729.812 99.3483 726.27 Q101.177 722.706 101.177 715.599 Q101.177 708.47 99.3483 704.928 Q97.5428 701.363 93.9086 701.363 M93.9086 697.659 Q99.7187 697.659 102.774 702.266 Q105.853 706.849 105.853 715.599 Q105.853 724.326 102.774 728.932 Q99.7187 733.516 93.9086 733.516 Q88.0984 733.516 85.0197 728.932 Q81.9642 724.326 81.9642 715.599 Q81.9642 706.849 85.0197 702.266 Q88.0984 697.659 93.9086 697.659 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M124.07 701.363 Q120.459 701.363 118.631 704.928 Q116.825 708.47 116.825 715.599 Q116.825 722.706 118.631 726.27 Q120.459 729.812 124.07 729.812 Q127.705 729.812 129.51 726.27 Q131.339 722.706 131.339 715.599 Q131.339 708.47 129.51 704.928 Q127.705 701.363 124.07 701.363 M124.07 697.659 Q129.881 697.659 132.936 702.266 Q136.015 706.849 136.015 715.599 Q136.015 724.326 132.936 728.932 Q129.881 733.516 124.07 733.516 Q118.26 733.516 115.182 728.932 Q112.126 724.326 112.126 715.599 Q112.126 706.849 115.182 702.266 Q118.26 697.659 124.07 697.659 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M66.5939 458.161 L54.7884 476.61 L66.5939 476.61 L66.5939 458.161 M65.367 454.087 L71.2466 454.087 L71.2466 476.61 L76.1772 476.61 L76.1772 480.499 L71.2466 480.499 L71.2466 488.647 L66.5939 488.647 L66.5939 480.499 L50.9921 480.499 L50.9921 475.985 L65.367 454.087 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M93.9086 457.165 Q90.2975 457.165 88.4688 460.73 Q86.6632 464.272 86.6632 471.401 Q86.6632 478.508 88.4688 482.073 Q90.2975 485.614 93.9086 485.614 Q97.5428 485.614 99.3483 482.073 Q101.177 478.508 101.177 471.401 Q101.177 464.272 99.3483 460.73 Q97.5428 457.165 93.9086 457.165 M93.9086 453.462 Q99.7187 453.462 102.774 458.068 Q105.853 462.651 105.853 471.401 Q105.853 480.128 102.774 484.735 Q99.7187 489.318 93.9086 489.318 Q88.0984 489.318 85.0197 484.735 Q81.9642 480.128 81.9642 471.401 Q81.9642 462.651 85.0197 458.068 Q88.0984 453.462 93.9086 453.462 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M124.07 457.165 Q120.459 457.165 118.631 460.73 Q116.825 464.272 116.825 471.401 Q116.825 478.508 118.631 482.073 Q120.459 485.614 124.07 485.614 Q127.705 485.614 129.51 482.073 Q131.339 478.508 131.339 471.401 Q131.339 464.272 129.51 460.73 Q127.705 457.165 124.07 457.165 M124.07 453.462 Q129.881 453.462 132.936 458.068 Q136.015 462.651 136.015 471.401 Q136.015 480.128 132.936 484.735 Q129.881 489.318 124.07 489.318 Q118.26 489.318 115.182 484.735 Q112.126 480.128 112.126 471.401 Q112.126 462.651 115.182 458.068 Q118.26 453.462 124.07 453.462 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M53.793 209.889 L72.1494 209.889 L72.1494 213.824 L58.0754 213.824 L58.0754 222.296 Q59.0939 221.949 60.1124 221.787 Q61.131 221.602 62.1495 221.602 Q67.9365 221.602 71.3161 224.773 Q74.6957 227.944 74.6957 233.361 Q74.6957 238.94 71.2235 242.042 Q67.7513 245.12 61.4319 245.12 Q59.256 245.12 56.9875 244.75 Q54.7421 244.38 52.3347 243.639 L52.3347 238.94 Q54.418 240.074 56.6402 240.63 Q58.8625 241.185 61.3393 241.185 Q65.3439 241.185 67.6819 239.079 Q70.0198 236.972 70.0198 233.361 Q70.0198 229.75 67.6819 227.644 Q65.3439 225.537 61.3393 225.537 Q59.4643 225.537 57.5893 225.954 Q55.7375 226.37 53.793 227.25 L53.793 209.889 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M93.9086 212.968 Q90.2975 212.968 88.4688 216.532 Q86.6632 220.074 86.6632 227.204 Q86.6632 234.31 88.4688 237.875 Q90.2975 241.417 93.9086 241.417 Q97.5428 241.417 99.3483 237.875 Q101.177 234.31 101.177 227.204 Q101.177 220.074 99.3483 216.532 Q97.5428 212.968 93.9086 212.968 M93.9086 209.264 Q99.7187 209.264 102.774 213.87 Q105.853 218.454 105.853 227.204 Q105.853 235.931 102.774 240.537 Q99.7187 245.12 93.9086 245.12 Q88.0984 245.12 85.0197 240.537 Q81.9642 235.931 81.9642 227.204 Q81.9642 218.454 85.0197 213.87 Q88.0984 209.264 93.9086 209.264 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M124.07 212.968 Q120.459 212.968 118.631 216.532 Q116.825 220.074 116.825 227.204 Q116.825 234.31 118.631 237.875 Q120.459 241.417 124.07 241.417 Q127.705 241.417 129.51 237.875 Q131.339 234.31 131.339 227.204 Q131.339 220.074 129.51 216.532 Q127.705 212.968 124.07 212.968 M124.07 209.264 Q129.881 209.264 132.936 213.87 Q136.015 218.454 136.015 227.204 Q136.015 235.931 132.936 240.537 Q129.881 245.12 124.07 245.12 Q118.26 245.12 115.182 240.537 Q112.126 235.931 112.126 227.204 Q112.126 218.454 115.182 213.87 Q118.26 209.264 124.07 209.264 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip462)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1428.62 244.02,1428.62 254.307,1428.62 264.593,1428.62 274.88,1423.74 285.166,1418.85 295.453,1416.41 305.74,1416.41 316.026,1416.41 326.313,1413.97 
  336.599,1411.53 346.886,1411.53 357.172,1411.53 367.459,1411.53 377.745,1413.97 388.032,1416.41 398.318,1416.41 408.605,1416.41 418.891,1416.41 429.178,1418.85 
  439.464,1418.85 449.751,1421.3 460.037,1421.3 470.324,1421.3 480.61,1423.74 490.897,1426.18 501.183,1426.18 511.47,1426.18 521.756,1428.62 532.043,1428.62 
  542.329,1433.51 552.616,1433.51 562.902,1435.95 573.189,1435.95 583.475,1438.39 593.762,1438.39 604.048,1440.83 614.335,1445.72 624.621,1445.72 634.908,1443.27 
  645.194,1445.72 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#e26f46; stroke-linecap:butt; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,227.169 244.02,405.433 254.307,713.122 264.593,937.784 274.88,1111.16 285.166,1243.03 295.453,1323.62 305.74,1350.48 316.026,1362.69 326.313,1387.11 
  336.599,1401.76 346.886,1406.64 357.172,1406.64 367.459,1411.53 377.745,1416.41 388.032,1418.85 398.318,1418.85 408.605,1418.85 418.891,1418.85 429.178,1240.59 
  439.464,932.9 449.751,708.239 460.037,537.3 470.324,407.875 480.61,329.732 490.897,302.87 501.183,290.66 511.47,273.567 521.756,261.357 532.043,256.473 
  542.329,258.915 552.616,256.473 562.902,256.473 573.189,256.473 583.475,268.683 593.762,280.892 604.048,307.754 614.335,334.616 624.621,361.478 634.908,407.875 
  645.194,451.831 655.481,503.112 665.768,576.372 676.054,652.073 686.341,725.332 696.627,796.15 706.914,888.945 717.2,964.646 727.487,1055 737.773,1103.84 
  748.06,1167.33 758.346,1208.84 768.633,1228.38 778.919,1243.03 789.206,1240.59 799.492,1230.82 809.779,1211.29 820.065,1177.1 830.352,1138.03 840.638,1096.51 
  850.925,1035.46 861.211,967.088 871.498,903.597 881.784,832.779 892.071,771.73 902.357,713.122 912.644,647.189 922.93,630.095 933.217,603.234 943.503,605.675 
  953.79,642.305 964.076,674.051 974.363,718.006 984.649,754.636 994.936,813.244 1005.22,871.851 1015.51,910.923 1025.8,957.32 1036.08,993.95 1046.37,1040.35 
  1056.66,1064.77 1066.94,1089.19 1077.23,1081.86 1087.51,1089.19 1097.8,1076.98 1108.09,1059.88 1118.37,1037.91 1128.66,1015.93 1138.95,976.856 1149.23,949.994 
  1159.52,901.155 1169.81,874.293 1180.09,844.989 1190.38,830.337 1200.67,835.221 1210.95,823.011 1221.24,844.989 1231.53,844.989 1241.81,879.177 1252.1,915.807 
  1262.39,971.972 1272.67,1008.6 1282.96,1064.77 1293.24,1094.07 1303.53,1113.61 1313.82,1116.05 1324.1,1111.16 1334.39,1098.95 1344.68,1091.63 1354.96,1076.98 
  1365.25,1072.09 1375.54,1035.46 1385.82,1008.6 1396.11,971.972 1406.4,920.691 1416.68,901.155 1426.97,876.735 1437.26,844.989 1447.54,788.824 1457.83,776.614 
  1468.12,752.194 1478.4,754.636 1488.69,783.94 1498.98,815.686 1509.26,847.431 1519.55,891.387 1529.83,928.016 1540.12,959.762 1550.41,964.646 1560.69,996.392 
  1570.98,1023.25 1581.27,1042.79 1591.55,1055 1601.84,1057.44 1612.13,1052.56 1622.41,1035.46 1632.7,1030.58 1642.99,1011.04 1653.27,986.624 1663.56,947.552 
  1673.85,891.387 1684.13,849.873 1694.42,827.895 1704.71,803.476 1714.99,786.382 1725.28,798.592 1735.57,813.244 1745.85,805.918 1756.14,808.36 1766.42,825.453 
  1776.71,852.315 1787,881.619 1797.28,903.597 1807.57,930.458 1817.86,962.204 1828.14,986.624 1838.43,1020.81 1848.72,1059.88 1859,1103.84 1869.29,1123.37 
  1879.58,1111.16 1889.86,1103.84 1900.15,1096.51 1910.44,1072.09 1920.72,1045.23 1931.01,1037.91 1941.3,1018.37 1951.58,1001.28 1961.87,967.088 1972.15,935.342 
  1982.44,906.039 1992.73,888.945 2003.01,893.829 2013.3,879.177 2023.59,871.851 2033.87,884.061 2044.16,862.083 2054.45,869.409 2064.73,925.575 2075.02,930.458 
  2085.31,957.32 2095.59,945.11 2105.88,976.856 2116.17,986.624 2126.45,991.508 2136.74,991.508 2147.03,986.624 2157.31,974.414 2167.6,969.53 2177.89,962.204 
  2188.17,935.342 2198.46,937.784 2208.74,925.575 2219.03,915.807 2229.32,920.691 2239.6,915.807 2249.89,879.177 2260.18,874.293 2270.46,876.735 2280.75,898.713 
  2291.04,891.387 
  "/>
<polyline clip-path="url(#clip462)" style="stroke:#3da44d; stroke-linecap:butt; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1203.96 244.02,976.856 254.307,632.537 264.593,273.567 274.88,129.49 285.166,87.9763 295.453,229.611 305.74,442.063 316.026,632.537 326.313,813.244 
  336.599,952.436 346.886,1091.63 357.172,1208.84 367.459,1257.68 377.745,1323.62 388.032,1357.8 398.318,1379.78 408.605,1406.64 418.891,1423.74 429.178,1438.39 
  439.464,1443.27 449.751,1445.72 460.037,1445.72 470.324,1440.83 480.61,1440.83 490.897,1440.83 501.183,1445.72 511.47,1440.83 521.756,1440.83 532.043,1438.39 
  542.329,1438.39 552.616,1438.39 562.902,1435.95 573.189,1418.85 583.475,1416.41 593.762,1406.64 604.048,1391.99 614.335,1387.11 624.621,1374.9 634.908,1345.59 
  645.194,1286.99 655.481,1252.8 665.768,1206.4 676.054,1172.21 686.341,1130.7 696.627,1079.42 706.914,1023.25 717.2,993.95 727.487,949.994 737.773,913.365 
  748.06,930.458 758.346,989.066 768.633,1069.65 778.919,1091.63 789.206,1125.82 799.492,1172.21 809.779,1245.47 820.065,1289.43 830.352,1330.94 840.638,1357.8 
  850.925,1357.8 861.211,1365.13 871.498,1372.46 881.784,1372.46 892.071,1355.36 902.357,1340.71 912.644,1328.5 922.93,1321.17 933.217,1294.31 943.503,1257.68 
  953.79,1191.75 964.076,1186.87 974.363,1174.66 984.649,1155.12 994.936,1118.49 1005.22,1069.65 1015.51,1086.75 1025.8,1076.98 1036.08,1084.3 1046.37,1086.75 
  1056.66,1140.47 1066.94,1164.89 1077.23,1179.54 1087.51,1206.4 1097.8,1238.15 1108.09,1252.8 1118.37,1269.89 1128.66,1284.55 1138.95,1291.87 1149.23,1299.2 
  1159.52,1304.08 1169.81,1294.31 1180.09,1262.57 1190.38,1240.59 1200.67,1225.94 1210.95,1184.42 1221.24,1157.56 1231.53,1138.03 1241.81,1108.72 1252.1,1111.16 
  1262.39,1091.63 1272.67,1084.3 1282.96,1042.79 1293.24,1055 1303.53,1076.98 1313.82,1091.63 1324.1,1140.47 1334.39,1223.5 1344.68,1269.89 1354.96,1299.2 
  1365.25,1282.1 1375.54,1289.43 1385.82,1296.76 1396.11,1326.06 1406.4,1333.38 1416.68,1318.73 1426.97,1291.87 1437.26,1274.78 1447.54,1262.57 1457.83,1238.15 
  1468.12,1228.38 1478.4,1186.87 1488.69,1172.21 1498.98,1152.68 1509.26,1135.58 1519.55,1108.72 1529.83,1101.4 1540.12,1111.16 1550.41,1150.24 1560.69,1184.42 
  1570.98,1162.45 1581.27,1147.79 1591.55,1160 1601.84,1172.21 1612.13,1189.31 1622.41,1247.92 1632.7,1260.13 1642.99,1269.89 1653.27,1286.99 1663.56,1304.08 
  1673.85,1330.94 1684.13,1306.52 1694.42,1296.76 1704.71,1282.1 1714.99,1267.45 1725.28,1250.36 1735.57,1233.26 1745.85,1221.05 1756.14,1196.63 1766.42,1172.21 
  1776.71,1155.12 1787,1145.35 1797.28,1135.58 1807.57,1113.61 1817.86,1101.4 1828.14,1094.07 1838.43,1103.84 1848.72,1096.51 1859,1094.07 1869.29,1120.93 
  1879.58,1145.35 1889.86,1194.19 1900.15,1223.5 1910.44,1245.47 1920.72,1247.92 1931.01,1245.47 1941.3,1247.92 1951.58,1245.47 1961.87,1265.01 1972.15,1247.92 
  1982.44,1262.57 1992.73,1260.13 2003.01,1240.59 2013.3,1203.96 2023.59,1191.75 2033.87,1164.89 2044.16,1186.87 2054.45,1189.31 2064.73,1138.03 2075.02,1140.47 
  2085.31,1138.03 2095.59,1160 2105.88,1189.31 2116.17,1189.31 2126.45,1186.87 2136.74,1181.98 2147.03,1201.52 2157.31,1225.94 2167.6,1260.13 2177.89,1267.45 
  2188.17,1267.45 2198.46,1255.24 2208.74,1252.8 2219.03,1225.94 2229.32,1191.75 2239.6,1179.54 2249.89,1184.42 2260.18,1196.63 2270.46,1186.87 2280.75,1184.42 
  2291.04,1164.89 
  "/>
<path clip-path="url(#clip460)" d="
M1894.91 302.578 L2280.06 302.578 L2280.06 95.2176 L1894.91 95.2176  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip460)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1894.91,302.578 2280.06,302.578 2280.06,95.2176 1894.91,95.2176 1894.91,302.578 
  "/>
<polyline clip-path="url(#clip460)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,147.058 2064.53,147.058 
  "/>
<path clip-path="url(#clip460)" d="M2088.76 129.778 L2093.48 129.778 L2100.75 158.99 L2107.99 129.778 L2113.25 129.778 L2120.52 158.99 L2127.76 129.778 L2132.51 129.778 L2123.83 164.338 L2117.95 164.338 L2110.66 134.338 L2103.29 164.338 L2097.41 164.338 L2088.76 129.778 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2145.79 141.398 Q2142.37 141.398 2140.38 144.083 Q2138.39 146.745 2138.39 151.398 Q2138.39 156.051 2140.35 158.736 Q2142.34 161.398 2145.79 161.398 Q2149.2 161.398 2151.19 158.713 Q2153.18 156.027 2153.18 151.398 Q2153.18 146.791 2151.19 144.106 Q2149.2 141.398 2145.79 141.398 M2145.79 137.787 Q2151.35 137.787 2154.52 141.398 Q2157.69 145.009 2157.69 151.398 Q2157.69 157.764 2154.52 161.398 Q2151.35 165.009 2145.79 165.009 Q2140.22 165.009 2137.04 161.398 Q2133.9 157.764 2133.9 151.398 Q2133.9 145.009 2137.04 141.398 Q2140.22 137.787 2145.79 137.787 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2164.75 128.319 L2169.01 128.319 L2169.01 164.338 L2164.75 164.338 L2164.75 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2191.05 128.319 L2191.05 131.861 L2186.97 131.861 Q2184.68 131.861 2183.78 132.787 Q2182.9 133.713 2182.9 136.12 L2182.9 138.412 L2189.91 138.412 L2189.91 141.722 L2182.9 141.722 L2182.9 164.338 L2178.62 164.338 L2178.62 141.722 L2174.54 141.722 L2174.54 138.412 L2178.62 138.412 L2178.62 136.606 Q2178.62 132.278 2180.63 130.31 Q2182.65 128.319 2187.02 128.319 L2191.05 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip460)" style="stroke:#e26f46; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,198.898 2064.53,198.898 
  "/>
<path clip-path="url(#clip460)" d="M2114.31 211.247 L2114.31 201.965 L2106.67 201.965 L2106.67 198.122 L2118.94 198.122 L2118.94 212.96 Q2116.23 214.881 2112.97 215.877 Q2109.71 216.849 2106 216.849 Q2097.9 216.849 2093.32 212.127 Q2088.76 207.381 2088.76 198.932 Q2088.76 190.46 2093.32 185.738 Q2097.9 180.993 2106 180.993 Q2109.38 180.993 2112.41 181.826 Q2115.47 182.659 2118.04 184.28 L2118.04 189.256 Q2115.45 187.057 2112.53 185.946 Q2109.61 184.835 2106.4 184.835 Q2100.05 184.835 2096.86 188.377 Q2093.69 191.918 2093.69 198.932 Q2093.69 205.923 2096.86 209.465 Q2100.05 213.006 2106.4 213.006 Q2108.87 213.006 2110.82 212.59 Q2112.76 212.15 2114.31 211.247 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2142.32 194.233 Q2141.6 193.817 2140.75 193.631 Q2139.91 193.423 2138.9 193.423 Q2135.28 193.423 2133.34 195.784 Q2131.42 198.122 2131.42 202.52 L2131.42 216.178 L2127.14 216.178 L2127.14 190.252 L2131.42 190.252 L2131.42 194.28 Q2132.76 191.918 2134.91 190.784 Q2137.07 189.627 2140.15 189.627 Q2140.59 189.627 2141.12 189.696 Q2141.65 189.743 2142.3 189.858 L2142.32 194.233 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2158.57 203.145 Q2153.41 203.145 2151.42 204.326 Q2149.43 205.506 2149.43 208.354 Q2149.43 210.622 2150.91 211.965 Q2152.41 213.284 2154.98 213.284 Q2158.53 213.284 2160.65 210.784 Q2162.81 208.261 2162.81 204.094 L2162.81 203.145 L2158.57 203.145 M2167.07 201.386 L2167.07 216.178 L2162.81 216.178 L2162.81 212.242 Q2161.35 214.603 2159.17 215.738 Q2157 216.849 2153.85 216.849 Q2149.87 216.849 2147.51 214.627 Q2145.17 212.381 2145.17 208.631 Q2145.17 204.256 2148.09 202.034 Q2151.03 199.812 2156.84 199.812 L2162.81 199.812 L2162.81 199.395 Q2162.81 196.455 2160.86 194.858 Q2158.94 193.238 2155.45 193.238 Q2153.22 193.238 2151.12 193.77 Q2149.01 194.303 2147.07 195.367 L2147.07 191.432 Q2149.4 190.53 2151.6 190.09 Q2153.8 189.627 2155.89 189.627 Q2161.51 189.627 2164.29 192.543 Q2167.07 195.46 2167.07 201.386 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2192.37 191.016 L2192.37 195.043 Q2190.56 194.117 2188.62 193.655 Q2186.67 193.192 2184.59 193.192 Q2181.42 193.192 2179.82 194.164 Q2178.25 195.136 2178.25 197.08 Q2178.25 198.562 2179.38 199.418 Q2180.52 200.252 2183.94 201.016 L2185.4 201.34 Q2189.94 202.312 2191.84 204.094 Q2193.76 205.854 2193.76 209.025 Q2193.76 212.636 2190.89 214.742 Q2188.04 216.849 2183.04 216.849 Q2180.96 216.849 2178.69 216.432 Q2176.44 216.039 2173.94 215.228 L2173.94 210.83 Q2176.3 212.057 2178.59 212.682 Q2180.89 213.284 2183.13 213.284 Q2186.14 213.284 2187.76 212.266 Q2189.38 211.224 2189.38 209.349 Q2189.38 207.613 2188.2 206.687 Q2187.04 205.761 2183.09 204.904 L2181.6 204.557 Q2177.65 203.724 2175.89 202.011 Q2174.13 200.275 2174.13 197.266 Q2174.13 193.608 2176.72 191.618 Q2179.31 189.627 2184.08 189.627 Q2186.44 189.627 2188.53 189.974 Q2190.61 190.321 2192.37 191.016 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2217.07 191.016 L2217.07 195.043 Q2215.26 194.117 2213.32 193.655 Q2211.37 193.192 2209.29 193.192 Q2206.12 193.192 2204.52 194.164 Q2202.95 195.136 2202.95 197.08 Q2202.95 198.562 2204.08 199.418 Q2205.21 200.252 2208.64 201.016 L2210.1 201.34 Q2214.64 202.312 2216.53 204.094 Q2218.46 205.854 2218.46 209.025 Q2218.46 212.636 2215.59 214.742 Q2212.74 216.849 2207.74 216.849 Q2205.65 216.849 2203.39 216.432 Q2201.14 216.039 2198.64 215.228 L2198.64 210.83 Q2201 212.057 2203.29 212.682 Q2205.59 213.284 2207.83 213.284 Q2210.84 213.284 2212.46 212.266 Q2214.08 211.224 2214.08 209.349 Q2214.08 207.613 2212.9 206.687 Q2211.74 205.761 2207.78 204.904 L2206.3 204.557 Q2202.34 203.724 2200.59 202.011 Q2198.83 200.275 2198.83 197.266 Q2198.83 193.608 2201.42 191.618 Q2204.01 189.627 2208.78 189.627 Q2211.14 189.627 2213.22 189.974 Q2215.31 190.321 2217.07 191.016 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip460)" style="stroke:#3da44d; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,250.738 2064.53,250.738 
  "/>
<path clip-path="url(#clip460)" d="M2111 234.592 L2111 239.152 Q2108.34 237.879 2105.98 237.254 Q2103.62 236.629 2101.42 236.629 Q2097.6 236.629 2095.52 238.11 Q2093.46 239.592 2093.46 242.323 Q2093.46 244.615 2094.82 245.795 Q2096.21 246.953 2100.05 247.67 L2102.88 248.249 Q2108.11 249.245 2110.59 251.768 Q2113.09 254.268 2113.09 258.481 Q2113.09 263.504 2109.71 266.096 Q2106.35 268.689 2099.85 268.689 Q2097.39 268.689 2094.61 268.133 Q2091.86 267.578 2088.9 266.49 L2088.9 261.675 Q2091.74 263.272 2094.47 264.082 Q2097.21 264.893 2099.85 264.893 Q2103.85 264.893 2106.03 263.319 Q2108.2 261.744 2108.2 258.828 Q2108.2 256.282 2106.63 254.846 Q2105.08 253.411 2101.51 252.694 L2098.66 252.138 Q2093.43 251.096 2091.1 248.874 Q2088.76 246.652 2088.76 242.694 Q2088.76 238.11 2091.97 235.471 Q2095.22 232.833 2100.89 232.833 Q2103.32 232.833 2105.84 233.272 Q2108.36 233.712 2111 234.592 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2141.74 252.369 L2141.74 268.018 L2137.48 268.018 L2137.48 252.508 Q2137.48 248.828 2136.05 246.999 Q2134.61 245.17 2131.74 245.17 Q2128.29 245.17 2126.3 247.37 Q2124.31 249.569 2124.31 253.365 L2124.31 268.018 L2120.03 268.018 L2120.03 231.999 L2124.31 231.999 L2124.31 246.12 Q2125.84 243.782 2127.9 242.624 Q2129.98 241.467 2132.69 241.467 Q2137.16 241.467 2139.45 244.245 Q2141.74 246.999 2141.74 252.369 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2172.41 253.99 L2172.41 256.073 L2152.83 256.073 Q2153.11 260.471 2155.47 262.786 Q2157.85 265.078 2162.09 265.078 Q2164.54 265.078 2166.84 264.476 Q2169.15 263.874 2171.42 262.67 L2171.42 266.698 Q2169.13 267.67 2166.72 268.18 Q2164.31 268.689 2161.84 268.689 Q2155.63 268.689 2152 265.078 Q2148.39 261.467 2148.39 255.309 Q2148.39 248.944 2151.81 245.217 Q2155.26 241.467 2161.09 241.467 Q2166.33 241.467 2169.36 244.846 Q2172.41 248.203 2172.41 253.99 M2168.15 252.74 Q2168.11 249.245 2166.19 247.161 Q2164.29 245.078 2161.14 245.078 Q2157.58 245.078 2155.42 247.092 Q2153.29 249.106 2152.97 252.763 L2168.15 252.74 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2201.58 253.99 L2201.58 256.073 L2182 256.073 Q2182.28 260.471 2184.64 262.786 Q2187.02 265.078 2191.26 265.078 Q2193.71 265.078 2196 264.476 Q2198.32 263.874 2200.59 262.67 L2200.59 266.698 Q2198.29 267.67 2195.89 268.18 Q2193.48 268.689 2191 268.689 Q2184.8 268.689 2181.16 265.078 Q2177.55 261.467 2177.55 255.309 Q2177.55 248.944 2180.98 245.217 Q2184.43 241.467 2190.26 241.467 Q2195.49 241.467 2198.53 244.846 Q2201.58 248.203 2201.58 253.99 M2197.32 252.74 Q2197.28 249.245 2195.35 247.161 Q2193.46 245.078 2190.31 245.078 Q2186.74 245.078 2184.59 247.092 Q2182.46 249.106 2182.14 252.763 L2197.32 252.74 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip460)" d="M2212.69 264.129 L2212.69 277.879 L2208.41 277.879 L2208.41 242.092 L2212.69 242.092 L2212.69 246.027 Q2214.03 243.712 2216.07 242.601 Q2218.13 241.467 2220.98 241.467 Q2225.7 241.467 2228.64 245.217 Q2231.6 248.967 2231.6 255.078 Q2231.6 261.189 2228.64 264.939 Q2225.7 268.689 2220.98 268.689 Q2218.13 268.689 2216.07 267.578 Q2214.03 266.443 2212.69 264.129 M2227.18 255.078 Q2227.18 250.379 2225.24 247.717 Q2223.32 245.032 2219.94 245.032 Q2216.56 245.032 2214.61 247.717 Q2212.69 250.379 2212.69 255.078 Q2212.69 259.777 2214.61 262.462 Q2216.56 265.124 2219.94 265.124 Q2223.32 265.124 2225.24 262.462 Q2227.18 259.777 2227.18 255.078 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<h2 id="Female-and-Male-Sheep"><a class="docs-heading-anchor" href="#Female-and-Male-Sheep">Female &amp; Male Sheep</a><a id="Female-and-Male-Sheep-1"></a><a class="docs-heading-anchor-permalink" href="#Female-and-Male-Sheep" title="Permalink"></a></h2><p>The goal of the last part of the lab is to demonstrate the <a href="lecture_03/@ref forwarding_method">forwarding method</a> by implementing a sheep that can have two different sexes and can only reproduce with another sheep of opposite sex.</p><p>This new type of sheep needs an additonal field <code>sex::Symbol</code> which can be either <code>:male</code> or <code>:female</code>. In OOP we would now simply inherit from <code>Sheep</code> and create a <code>⚥Sheep</code> with an additional field. In Julia there is no inheritance - only subtyping of abstract types. As you cannot inherit from a concrete type in Julia, we will have to create a wrapper type and forward all necessary methods. This is typically a sign of unfortunate type tree design and should be avoided, but if you want to extend a code base by an unforeseen type this forwarding of methods is a nice work-around.  Our <code>⚥Sheep</code> type will simply contain a classic <code>sheep</code> and a <code>sex</code> field</p><pre><code class="language-julia hljs">struct ⚥Sheep{T&lt;:Real} &lt;: AbstractAnimal
    sheep::Sheep{T}
    sex::Symbol
end
⚥Sheep(E,ΔE,pr,pf,sex) = ⚥Sheep(Sheep(E,ΔE,pr,pf),sex)</code></pre><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ⚥Sheep(1.0,1.0,1.0,1.0,:female)</code><code class="nohighlight hljs ansi" style="display:block;">⚥Sheep{Float64}(Sheep{Float64}(1.0, 1.0, 1.0, 1.0), :female)</code></pre><p>In our case, the methods that have to be forwarded are <code>agent_step!</code>, <code>reproduce!</code>, <code>eats</code> and <code>eat!</code>.  The custom reproduction behaviour will of course be taken care of by a <code>reproduce!</code> function that does not just forward but also contains specialized behaviour for the <code>⚥Sheep</code>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Forward the accessors <code>energy</code>, <code>energy!</code>, <code>reproduction_prob</code>, and <code>food_prob</code>, as well as our core methods <code>eats</code> and <code>eat!</code> to <code>Sheep</code>.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">energy(g::⚥Sheep) = energy(g.sheep)
energy!(g::⚥Sheep, ΔE) = energy!(g.sheep, ΔE)
reproduction_prob(g::⚥Sheep) = reproduction_prob(g.sheep)
food_prob(g::⚥Sheep) = food_prob(g.sheep)

eats(::⚥Sheep, ::Grass) = true
eats(::⚥Sheep, ::PoisonedGrass) = true
eat!(s::⚥Sheep, g::AbstractPlant, w::World) = eat!(s.sheep, g, w)</code></pre></p></details><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise</header>
<div class="admonition-body"><p>Implement the <code>reproduce!</code> method for the <code>⚥Sheep</code>.  Note that you first have to find another sheep of opposite sex in your <code>World</code>, and only if you can find one you can reproduce.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">mates(a::AbstractPlant, ::⚥Sheep) = false
mates(a::AbstractAnimal, ::⚥Sheep) = false
mates(g1::⚥Sheep, g2::⚥Sheep) = g1.sex != g2.sex
function find_mate(g::⚥Sheep, w::World)
    ms = filter(a-&gt;mates(a,g), w.agents)
    isempty(ms) ? nothing : sample(ms)
end

function reproduce!(s::⚥Sheep, w::World)
    m = find_mate(s,w)
    if !isnothing(m)
        energy!(s, energy(s)/2)
        # TODO: should probably mix s/m
        push!(w.agents, deepcopy(s))
    end
end</code></pre></p></details></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../lecture_02/hw/">« Homework</a><a class="docs-footer-nextpage" href="../hw/">Homework »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.6 on <span class="colophon-date" title="Friday 17 September 2021 13:06">Friday 17 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
